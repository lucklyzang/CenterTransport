webpackJsonp([21],{ptWk:function(e,t){},zfRO:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("4YfN"),s=a.n(n),i=a("0eBz"),o=a("yl8L"),c=a("gh9j"),r=a("0DTB"),l=a("fFvN"),p=a("sqAx"),u=a("upvi"),d=a("fdFc"),f=(a("M9A7"),{data:function(){return{leftDropdownDataList:["退出登录"],leftDownShow:!1,liIndex:null,appointDescribe:"",patientName:"",sex:"",age:"",bedNumber:"",number:"",taskSurePng:a("WoXg"),taskCancelPng:a("faDW")}},components:{VanFieldSelectPicker:o.a,HeaderTop:i.a,NoData:p.a,FooterBottom:r.a,ElectronicSignature:c.a},computed:s()({},Object(u.b)(["navTopTitle","appointTaskMessage","appointTaskState","currentElectronicSignature","isCompleteSweepCodeList"]),{proId:function(){return JSON.parse(Object(d.j)("userInfo")).extendData.proId},taskId:function(){return this.appointTaskMessage.id}}),mounted:function(){var e=this;if(console.log(this.appointTaskMessage),!Object(d.b)()){pushHistory(),this.gotoURL(function(){pushHistory(),e.changeCurrentElectronicSignature({DtMsg:null}),e.$router.push({path:"/appointTask"}),e.changeTitleTxt({tit:"预约任务"}),Object(d.p)("currentTitle","预约任务")})}this.echoCustomerInfo()},methods:s()({},Object(u.c)(["changeTitleTxt","changeCurrentElectronicSignature","changeIsCompleteSweepCodeList","changeAppointSweepCodeIntoPage"]),{leftLiCLick:function(e){this.liIndex=e,localStorage.clear(),this.$router.push({path:"/"})},sexTransfer:function(e){switch(e){case 0:return"未指定";case 1:return"男";case 2:return"女";default:return"未指定"}},echoCustomerInfo:function(){this.patientName=this.appointTaskMessage.patientName,this.sex=this.sexTransfer(this.appointTaskMessage.sex),this.age=this.appointTaskMessage.age,this.bedNumber=this.appointTaskMessage.bedNumber,this.number=this.appointTaskMessage.number,this.appointDescribe=this.appointTaskMessage.taskRemark},getCustomerAppointInfo:function(e){var t=this;Object(l.s)(e).then(function(e){e&&e.data.code}).catch(function(e){t.$dialog.alert({message:""+e.message,closeOnPopstate:!0}).then(function(){})})},checkCustomerInfo:function(e){var t=this;Object(l.x)(e).then(function(e){e&&200==e.data.code?(t.$dialog.alert({message:""+e.data.msg,closeOnPopstate:!0}).then(function(){}),t.updateTaskState({proId:t.proId,id:t.appointTaskMessage.id,state:t.appointTaskState})):t.$dialog.alert({message:""+e.data.msg,closeOnPopstate:!0}).then(function(){})}).catch(function(e){t.$dialog.alert({message:""+e.message,closeOnPopstate:!0}).then(function(){})})},updateTaskState:function(e){var t=this;Object(l.A)(e).then(function(e){if(e&&200==e.data.code){var a=Object(d.h)(t.isCompleteSweepCodeList);a=a.filter(function(e){return e.taskId!=t.taskId}),t.changeIsCompleteSweepCodeList(a),Object(d.p)("completAppointTaskSweepCodeInfo",{sweepCodeInfo:a}),t.$router.push({path:"/appointTask"}),t.changeTitleTxt({tit:"预约任务"}),Object(d.p)("currentTitle","预约任务")}else t.$dialog.alert({message:e.data.msg,closeOnPopstate:!0}).then(function(){})}).catch(function(e){t.$dialog.alert({message:""+e.message,closeOnPopstate:!0}).then(function(){})})},skipMyInfo:function(){this.leftDownShow=!this.leftDownShow},appointMessageSure:function(){this.currentElectronicSignature?this.checkCustomerInfo({id:this.taskId,proId:this.proId,ensureSign:this.currentElectronicSignature}):this.$dialog.alert({message:"签名不能为空,请确认签名",closeOnPopstate:!0}).then(function(){})},appointMessageCancel:function(){},backTo:function(){this.changeCurrentElectronicSignature({DtMsg:null}),this.$router.push({path:"/appointTask"}),this.changeTitleTxt({tit:"预约任务"}),Object(d.p)("currentTitle","预约任务")}})}),h={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content-wrapper"},[a("HeaderTop",{attrs:{title:e.navTopTitle}},[a("van-icon",{attrs:{slot:"left",name:"arrow-left"},on:{click:e.backTo},slot:"left"})],1),e._v(" "),a("ul",{directives:[{name:"show",rawName:"v-show",value:e.leftDownShow,expression:"leftDownShow"}],staticClass:"left-dropDown"},e._l(e.leftDropdownDataList,function(t,n){return a("li",{key:n,class:{liStyle:e.liIndex==n},on:{click:function(t){return e.leftLiCLick(n)}}},[e._v(e._s(t))])}),0),e._v(" "),a("div",{staticClass:"sweep-code-title"},[a("h3",[e._v("客户预约信息")]),e._v(" "),a("div",{staticClass:"custormer-info"},[a("van-field",{attrs:{disabled:"",label:"病人姓名"},model:{value:e.patientName,callback:function(t){e.patientName=t},expression:"patientName"}}),e._v(" "),a("van-field",{attrs:{disabled:"",label:"病人性别"},model:{value:e.sex,callback:function(t){e.sex=t},expression:"sex"}}),e._v(" "),a("van-field",{attrs:{disabled:"",label:"病人年龄"},model:{value:e.age,callback:function(t){e.age=t},expression:"age"}}),e._v(" "),a("van-field",{attrs:{disabled:"",label:"病人床号"},model:{value:e.bedNumber,callback:function(t){e.bedNumber=t},expression:"bedNumber"}}),e._v(" "),a("van-field",{attrs:{disabled:"",label:"任务编号"},model:{value:e.number,callback:function(t){e.number=t},expression:"number"}}),e._v(" "),a("van-field",{attrs:{rows:"1",autosize:"",disabled:"",label:"描述",type:"textarea"},model:{value:e.appointDescribe,callback:function(t){e.appointDescribe=t},expression:"appointDescribe"}})],1)]),e._v(" "),a("div",{staticClass:"customerInfo-box"}),e._v(" "),a("div",{staticClass:"electronic-signature"},[a("ElectronicSignature")],1),e._v(" "),a("div",{staticClass:"btn-area"},[a("span",[a("img",{attrs:{src:e.taskSurePng,alt:""},on:{click:e.appointMessageSure}})]),e._v(" "),a("span",[a("img",{attrs:{src:e.taskCancelPng,alt:""},on:{click:e.appointMessageCancel}})])])],1)},staticRenderFns:[]};var g=a("C7Lr")(f,h,!1,function(e){a("ptWk")},"data-v-08764776",null);t.default=g.exports}});