webpackJsonp([16],{VyWM:function(t,e){},jucv:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("HzJ8"),s=a.n(n),c=a("4YfN"),o=a.n(c),i=a("0eBz"),r=a("0DTB"),l=(a("M9A7"),a("fFvN")),h=a("sqAx"),u=a("upvi"),d=a("fdFc"),p={data:function(){return{leftDropdownDataList:["退出登录"],leftDownShow:!1,liIndex:null,taskCancelReason:"",cancelReasonLlist:[],taskSurePng:a("WoXg"),taskCancelPng:a("faDW")}},components:{HeaderTop:i.a,NoData:h.a,FooterBottom:r.a},mounted:function(){var t=this;if(!Object(d.b)()){pushHistory(),this.gotoURL(function(){pushHistory(),t.$router.push({path:"/dispatchTask"}),t.changeTitleTxt({tit:"调度任务"}),Object(d.p)("currentTitle","调度任务")})}this.getDispatchTaskCancelReason({proId:this.proId,state:0})},computed:o()({},Object(u.b)(["dispatchTaskTransferIdList","navTopTitle","dispatchTaskCancelIdList"]),{proId:function(){return JSON.parse(Object(d.j)("userInfo")).extendData.proId},workerId:function(){return JSON.parse(Object(d.j)("userInfo")).extendData.userId},workerName:function(){return JSON.parse(Object(d.j)("userInfo")).extendData.userName}}),methods:o()({},Object(u.c)(["changeTitleTxt"]),{getDispatchTaskCancelReason:function(t){var e=this;Object(l.t)(t).then(function(t){if(t&&200==t.data.code){e.cancelReasonLlist=[];var a=!0,n=!1,c=void 0;try{for(var o,i=s()(t.data.data);!(a=(o=i.next()).done);a=!0){var r=o.value,l=[];for(var h in r)"id"==h&&l.push(r[h]),"cancelName"==h&&l.push(r[h]);e.cancelReasonLlist.push({text:l[1],value:l[1]})}}catch(t){n=!0,c=t}finally{try{!a&&i.return&&i.return()}finally{if(n)throw c}}}}).catch(function(t){console.log(t)})},cancelDispatchTask:function(t){var e=this;1==this.dispatchTaskCancelIdList.length?Object(l.C)(t).then(function(t){t&&200==t.data.code?e.$dialog.alert({message:t.data.msg,closeOnPopstate:!0}).then(function(){e.$router.push({path:"/dispatchTask"}),e.changeTitleTxt({tit:"调度任务"}),Object(d.p)("currentTitle","调度任务")}):e.$dialog.alert({message:""+t.data.msg,closeOnPopstate:!0}).then(function(){})}).catch(function(t){e.$dialog.alert({message:""+t.message,closeOnPopstate:!0}).then(function(){})}):Object(l.b)(t).then(function(t){t&&200==t.data.code?e.$dialog.alert({message:t.data.msg,closeOnPopstate:!0}).then(function(){e.$router.push({path:"/dispatchTask"}),e.changeTitleTxt({tit:"调度任务"}),Object(d.p)("currentTitle","调度任务")}):e.$dialog.alert({message:t.data.msg,closeOnPopstate:!0})}).catch(function(t){e.$dialog.alert({message:""+t.message,closeOnPopstate:!0}).then(function(){})})},leftLiCLick:function(t){this.liIndex=t,localStorage.clear(),this.$router.push({path:"/"})},skipMyInfo:function(){this.leftDownShow=!this.leftDownShow},backTo:function(){this.$router.push({path:"/dispatchTask"}),this.changeTitleTxt({tit:"调度任务"}),Object(d.p)("currentTitle","调度任务")},canceltaskSure:function(){1==this.dispatchTaskCancelIdList.length?this.cancelDispatchTask({proId:this.proId,id:this.dispatchTaskCancelIdList[0],state:6,cancelReason:this.taskCancelReason}):this.cancelDispatchTask({proId:this.proId,ids:this.dispatchTaskCancelIdList,cancelReason:this.taskCancelReason})},transferPersonCancel:function(){this.$router.push({path:"/dispatchTask"}),this.changeTitleTxt({tit:"调度任务"}),Object(d.p)("currentTitle","调度任务")}})},f={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-wrapper"},[a("HeaderTop",{attrs:{title:t.navTopTitle}},[a("van-icon",{attrs:{slot:"left",name:"arrow-left"},on:{click:t.backTo},slot:"left"})],1),t._v(" "),a("ul",{directives:[{name:"show",rawName:"v-show",value:t.leftDownShow,expression:"leftDownShow"}],staticClass:"left-dropDown"},t._l(t.leftDropdownDataList,function(e,n){return a("li",{key:n,class:{liStyle:t.liIndex==n},on:{click:function(e){return t.leftLiCLick(n)}}},[t._v(t._s(e))])}),0),t._v(" "),a("div",{staticClass:"sweep-code-title"},[a("h3",[t._v("取消原因")]),t._v(" "),a("van-dropdown-menu",[a("van-dropdown-item",{attrs:{options:t.cancelReasonLlist},model:{value:t.taskCancelReason,callback:function(e){t.taskCancelReason=e},expression:"taskCancelReason"}})],1)],1),t._v(" "),a("div",{staticClass:"btn-area"},[a("span",[a("img",{attrs:{src:t.taskSurePng,alt:""},on:{click:t.canceltaskSure}})]),t._v(" "),a("span",[a("img",{attrs:{src:t.taskCancelPng,alt:""},on:{click:t.transferPersonCancel}})])])],1)},staticRenderFns:[]};var T=a("C7Lr")(p,f,!1,function(t){a("VyWM")},"data-v-414085e8",null);e.default=T.exports}});