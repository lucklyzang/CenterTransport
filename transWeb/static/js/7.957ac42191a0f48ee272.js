webpackJsonp([7],{"4OMD":function(t,e){},E1Xl:function(t,e){t.exports="data:image/png;base64,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"},LmY1:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("HzJ8"),s=a.n(i),r=a("3cXf"),n=a.n(r),c=a("4YfN"),o=a.n(c),l=a("0eBz"),u=a("0DTB"),d=(a("L0wb"),a("fFvN")),h=a("sqAx"),A=a("SJI6"),p=a("fdFc"),m=(a("M9A7"),{name:"circulationDetails",data:function(){return{leftDropdownDataList:["退出登录"],leftDownShow:!1,liIndex:null,circulationTaskList:[],drawCompleteTaskIdList:[],taskArrivedPng:a("E1Xl"),taskSweepCodePng:a("g5KD")}},components:{HeaderTop:l.a,NoData:h.a,FooterBottom:u.a},computed:o()({},Object(A.mapGetters)(["navTopTitle","userInfo","circulationDetails","completeDeparnmentInfo","circulationTaskId"]),{proId:function(){return this.userInfo.extendData.proId},userName:function(){return this.userInfo.userName},proName:function(){return this.userInfo.extendData.proName},workerId:function(){return this.userInfo.extendData.userId}}),mounted:function(){var t=this;if(console.log("详细信息",this.circulationDetails),!Object(p.b)()){pushHistory(),this.gotoURL(function(){pushHistory(),7==t.circulationDetails.state?t.changeIsFreshCirculationTaskPage(!1):t.changeIsFreshCirculationTaskPage(!0),t.$router.push({path:"/circulationTask"}),t.changeTitleTxt({tit:"循环任务"}),Object(p.q)("currentTitle","循环任务")})}this.getTaskMessage(),this.drawTaskId()},methods:o()({},Object(A.mapMutations)(["changeTitleTxt","changeArriveDepartmentId","changeIsCollectEnterSweepCodePage","changeIsFreshCirculationTaskPage","changeCirculationDetails"]),{backTo:function(){7==this.circulationDetails.state?this.changeIsFreshCirculationTaskPage(!1):this.changeIsFreshCirculationTaskPage(!0),this.$router.push({path:"/circulationTask"}),this.changeTitleTxt({tit:"循环任务"}),Object(p.q)("currentTitle","循环任务")},stateTransfer:function(t){switch(t){case 0:return"未分配";case 1:return"未查阅";case 2:return"未开始";case 3:return"进行中";case 4:return"未结束";case 5:return"已延迟";case 6:return"已取消";case 7:return"已完成"}},getTaskMessage:function(){var t=this;Object(d.i)(this.circulationTaskId).then(function(e){t.circulationTaskList=[];var a=[];if(e&&200==e.data.code&&"{}"!==n()(e.data.data)){a.push({createTime:e.data.data.createTime,startTime:e.data.data.startTime,proName:e.data.data.proName,officeName:e.data.data.proName,taskTypeName:e.data.data.taskTypeName,workerName:e.data.data.workerName,state:e.data.data.state,priority:e.data.data.priority,taskNumber:e.data.data.taskNumber,finishTime:e.data.data.finishTime,spaces:e.data.data.spaces,id:e.data.data.id,show:!1,check:!1,startUpTime:e.data.data.startUpTime}),t.circulationTaskList=a;for(var i=0,r=t.circulationTaskList.length;i<r;i++){for(var c in t.circulationTaskList[i])if("spaces"==c){var o=[],l=Object(p.n)(t.circulationTaskList[i][c]).split(","),u=[],d=!0,h=!1,A=void 0;try{for(var m,v=s()(l);!(d=(m=v.next()).done);d=!0){u=[],u=m.value.replace(/\"/g,"").split(":"),o.push({text:u[1],value:u[0]})}}catch(t){h=!0,A=t}finally{try{!d&&v.return&&v.return()}finally{if(h)throw A}}t.circulationTaskList[i].spaces=o}}var f=!0,k=!1,g=void 0;try{for(var T,I=s()(t.circulationTaskList);!(f=(T=I.next()).done);f=!0){var C=T.value;for(var D in C)if("spaces"==D){var L=!0,w=!1,E=void 0;try{for(var R,x=s()(C[D]);!(L=(R=x.next()).done);L=!0){R.value.check=!1}}catch(t){w=!0,E=t}finally{try{!L&&x.return&&x.return()}finally{if(w)throw E}}}}}catch(t){k=!0,g=t}finally{try{!f&&I.return&&I.return()}finally{if(k)throw g}}if(t.completeDeparnmentInfo.length>0)for(var y=0,P=t.completeDeparnmentInfo.length;y<P;y++)if(t.circulationTaskList.length>0)for(var O=0,N=t.circulationTaskList.length;O<N;O++)if(t.circulationTaskList[O].id==t.completeDeparnmentInfo[y].taskId&&t.completeDeparnmentInfo[y].departmentIdList.length>0)for(var H=0,M=t.completeDeparnmentInfo[y].departmentIdList.length;H<M;H++)if(t.circulationTaskList[O].spaces.length>0)for(var j=0,F=t.circulationTaskList[O].spaces.length;j<F;j++)t.circulationTaskList[O].spaces[j].value==t.completeDeparnmentInfo[y].departmentIdList[H]&&(t.circulationTaskList[O].spaces[j].check=!0);t.changeCirculationDetails(t.circulationTaskList[0])}}).catch(function(e){t.$dialog.alert({message:""+e.message,closeOnPopstate:!0}).then(function(){})})},drawTaskId:function(){if(this.drawCompleteTaskIdList=[],this.completeDeparnmentInfo.length>0){var t=!0,e=!1,a=void 0;try{for(var i,r=s()(this.completeDeparnmentInfo);!(t=(i=r.next()).done);t=!0){var n=i.value;for(var c in n)"taskId"==c&&this.drawCompleteTaskIdList.push(n[c])}}catch(t){e=!0,a=t}finally{try{!t&&r.return&&r.return()}finally{if(e)throw a}}}},circulationTaskArrived:function(){7==this.circulationDetails.state?this.$dialog.alert({message:"该条循环任务已完成,不能进行送达",closeOnPopstate:!0}).then(function(){}):(this.changeArriveDepartmentId(!0),this.circulationDetails.spaces.filter(function(t){return 1==t.check}).length>=1?(this.changeIsCollectEnterSweepCodePage(!1),this.$router.push({path:"circulationTaskSweepCode"}),this.changeTitleTxt({tit:"扫码"}),Object(p.q)("currentTitle","扫码")):this.$dialog.alert({message:"请至少采集完一个科室,才能进行送达",closeOnPopstate:!0}).then(function(){}))},joinSweepCode:function(){7==this.circulationDetails.state?this.$dialog.alert({message:"该条循环任务已完成,不能进行扫码",closeOnPopstate:!0}).then(function(){}):(this.changeArriveDepartmentId(!1),this.changeIsCollectEnterSweepCodePage(!0),this.$router.push({path:"/circulationTaskSweepCode"}),this.changeTitleTxt({tit:"扫码"}),Object(p.q)("currentTitle","扫码"))}})}),v={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-wrapper"},[a("HeaderTop",{attrs:{title:t.navTopTitle}},[a("van-icon",{attrs:{slot:"left",name:"arrow-left"},on:{click:t.backTo},slot:"left"})],1),t._v(" "),a("div",{staticClass:"basic-message"},[a("p",{staticClass:"basic-message-title"},[t._v("基本信息")]),t._v(" "),a("div",{staticClass:"wait-handle-message"},[a("div",{staticClass:"handle-message-line-wrapper"},[a("P",[a("span",{staticClass:"message-tit"},[t._v("任务名称:")]),t._v(" "),a("span",{staticClass:"message-tit-real message-tit-real-style"},[t._v(t._s(t.circulationDetails.taskTypeName))])]),t._v(" "),a("p",[a("span",{staticClass:"message-tit"},[t._v("任务状态:")]),t._v(" "),a("span",{staticClass:"message-tit-real",staticStyle:{color:"red"}},[t._v(t._s(t.stateTransfer(t.circulationDetails.state)))])])],1),t._v(" "),a("div",{staticClass:"handle-message-line-wrapper"},[a("p",[a("span",{staticClass:"message-tit"},[t._v("预计开始时间:")]),t._v(" "),a("span",{staticClass:"message-tit-real"},[t._v(t._s(t.circulationDetails.startTime))])]),t._v(" "),a("P",[a("span",{staticClass:"message-tit"},[t._v("实际开始时间:")]),t._v(" "),a("span",{staticClass:"message-tit-real message-tit-real-style"},[t._v(t._s(t.circulationDetails.startUpTime))])])],1)])]),t._v(" "),a("div",{staticClass:"office-list"},[a("p",{staticClass:"office-list-inner-wrapper"},t._l(t.circulationDetails.spaces,function(e,i){return a("span",{key:e+"-"+i,class:{officeCheckStyle:-1!=t.drawCompleteTaskIdList.indexOf(t.circulationDetails.id)&&1==e.check}},[t._v("\n        "+t._s(e.text)+"\n      ")])}),0)]),t._v(" "),a("div",{staticClass:"circultion-task-btn"},[a("span",{directives:[{name:"show",rawName:"v-show",value:7!=t.circulationDetails.state,expression:"circulationDetails.state != 7"}]},[a("img",{attrs:{src:t.taskSweepCodePng,alt:""},on:{click:t.joinSweepCode}})]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:7!=t.circulationDetails.state,expression:"circulationDetails.state != 7"}]},[a("img",{attrs:{src:t.taskArrivedPng,alt:""},on:{click:t.circulationTaskArrived}})]),t._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:7==t.circulationDetails.state,expression:"circulationDetails.state == 7"}],staticClass:"circultion-task-btn-bottom"},[a("span",{on:{click:t.backTo}},[t._v("返回")])])])],1)},staticRenderFns:[]};var f=a("C7Lr")(m,v,!1,function(t){a("4OMD")},"data-v-75ad8f12",null);e.default=f.exports}});