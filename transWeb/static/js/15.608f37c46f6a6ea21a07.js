webpackJsonp([15],{UO2b:function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=t("4YfN"),i=t.n(a),n=t("0eBz"),r=t("yl8L"),c=t("0DTB"),o=(t("L0wb"),t("fFvN")),p=t("sqAx"),v=t("SJI6"),l=t("fdFc"),u=(t("M9A7"),{name:"taskDetailsMessage",data:function(){return{leftDropdownDataList:["退出登录"],leftDownShow:!1,liIndex:null,dispatchMsg:"",circulationMsg:"",officeList:{}}},components:{HeaderTop:n.a,NoData:p.a,FooterBottom:c.a,VanFieldSelectPicker:r.a},computed:i()({},Object(v.mapGetters)(["navTopTitle","transportantTaskMessage","userInfo","taskDetailsMessage","taskType"]),{proId:function(){return this.userInfo.extendData.proId},userName:function(){return this.userInfo.userName},proName:function(){return this.userInfo.extendData.proName},workerId:function(){return this.userInfo.extendData.userId}}),mounted:function(){var e=this;if(!Object(l.b)()){pushHistory(),this.gotoURL(function(){pushHistory(),"调度任务"==e.taskType?(e.$router.push({path:"/dispatchTask"}),e.changeTitleTxt({tit:"调度任务"}),Object(l.q)("currentTitle","调度任务")):"预约任务"==e.taskType?(e.$router.push({path:"/appointTask"}),e.changeTitleTxt({tit:"预约任务"}),Object(l.q)("currentTitle","预约任务")):(e.$router.push({path:"/circulationTask"}),e.changeTitleTxt({tit:"循环任务"}),Object(l.q)("currentTitle","循环任务"))})}"调度任务"==this.taskType?this.getDispatchTaskMessage(this.taskDetailsMessage.id):"循环任务"==this.taskType&&this.getCirculationTaskMessage(this.taskDetailsMessage.id,this.taskDetailsMessage.createTime)},methods:i()({},Object(v.mapMutations)(["changeTitleTxt"]),{backTo:function(){"调度任务"==this.taskType?(this.$router.push({path:"/dispatchTask"}),this.changeTitleTxt({tit:"调度任务"}),Object(l.q)("currentTitle","调度任务")):"预约任务"==this.taskType?(this.$router.push({path:"/appointTask"}),this.changeTitleTxt({tit:"预约任务"}),Object(l.q)("currentTitle","预约任务")):(this.$router.push({path:"/circulationTask"}),this.changeTitleTxt({tit:"循环任务"}),Object(l.q)("currentTitle","循环任务"))},stateTransfer:function(e){switch(e){case 0:return"未分配";case 1:return"未查阅";case 2:return"未开始";case 3:return"进行中";case 4:return"未结束";case 5:return"已延迟";case 6:return"已取消";case 7:return"已完成"}},leftLiCLick:function(e){this.liIndex=e,localStorage.clear(),this.$router.push({path:"/"})},getDispatchTaskMessage:function(e){var s=this;Object(o.A)(e).then(function(e){e&&200==e.data.code&&(s.dispatchMsg=e.data.data,console.log("结果",s.dispatchMsg))}).catch(function(e){s.$dialog.alert({message:""+res.data.msg,closeOnPopstate:!0}).then(function(){})})},getCirculationTaskMessage:function(e,s){var t=this;Object(o.x)(e,s).then(function(e){e&&200==e.data.code&&(t.circulationMsg=e.data.data,t.officeList=JSON.parse(t.circulationMsg.hasAccess))}).catch(function(e){t.$dialog.alert({message:""+res.data.msg,closeOnPopstate:!0}).then(function(){})})}})}),h={render:function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"content-wrapper"},[t("HeaderTop",{attrs:{title:e.navTopTitle}},[t("van-icon",{attrs:{slot:"left",name:"arrow-left"},on:{click:e.backTo},slot:"left"})],1),e._v(" "),e._m(0),e._v(" "),t("div",{staticClass:"transport-type-area"},[t("div",{staticClass:"task-content-item"},[t("div",{staticClass:"office-name"},[e._v("科室名称")]),e._v(" "),t("div",{staticClass:"office-name-specific"},[t("p",{directives:[{name:"show",rawName:"v-show",value:"预约任务"==e.taskType,expression:"taskType == '预约任务'"}]},[e._v("\n          起点: "+e._s(e.taskDetailsMessage.setOutPlaceName)+"\n        ")]),e._v(" "),t("p",{directives:[{name:"show",rawName:"v-show",value:"循环任务"==e.taskType,expression:"taskType == '循环任务'"}]},[e._v("\n          起点: "),e._l(e.taskDetailsMessage.spaces,function(s,a){return t("span",{key:s+"-"+a},[e._v(e._s(s.text))])})],2),e._v(" "),t("p",{directives:[{name:"show",rawName:"v-show",value:"调度任务"==e.taskType,expression:"taskType == '调度任务'"}]},[e._v("\n          起点: "+e._s(e.dispatchMsg.setOutPlaceName)+"\n        ")]),e._v(" "),t("p",[e._v("\n          目的地:\n          "),e._l(e.taskDetailsMessage.spaces,function(s,a){return t("span",{directives:[{name:"show",rawName:"v-show",value:"预约任务"==e.taskType,expression:"taskType == '预约任务'"}],key:s+"-"+a},[e._v(e._s(s.text))])}),e._v(" "),e._l(e.dispatchMsg.distName,function(s,a){return t("span",{directives:[{name:"show",rawName:"v-show",value:"调度任务"==e.taskType,expression:"taskType == '调度任务'"}],key:s+"-"+a},[e._v(e._s(s))])}),e._v(" "),e._l(e.circulationMsg.arriveSpaceNameList,function(s,a){return t("span",{directives:[{name:"show",rawName:"v-show",value:"循环任务"==e.taskType,expression:"taskType == '循环任务'"}],key:s+"-"+a},[e._v(e._s(s))])})],2)]),e._v(" "),t("div",{staticClass:"office-name"},[e._v("访问时间")]),e._v(" "),t("div",{staticClass:"office-name-specific"},[t("p",{directives:[{name:"show",rawName:"v-show",value:"预约任务"==e.taskType,expression:"taskType == '预约任务'"}]},[e._v("\n          开始时间: "+e._s(e.taskDetailsMessage.createTime)+"\n        ")]),e._v(" "),t("p",{directives:[{name:"show",rawName:"v-show",value:"调度任务"==e.taskType,expression:"taskType == '调度任务'"}]},[e._v("\n          开始时间: "+e._s(e.dispatchMsg.planStartTime)+"\n        ")]),e._v(" "),t("p",{directives:[{name:"show",rawName:"v-show",value:"循环任务"!==e.taskType,expression:"taskType !== '循环任务'"}]},[e._v("\n          结束时间: "+e._s(e.taskDetailsMessage.finishTime)+"\n        ")]),e._v(" "),e._l(e.officeList,function(s,a,i){return t("p",{directives:[{name:"show",rawName:"v-show",value:"循环任务"==e.taskType,expression:"taskType == '循环任务'"}],key:s+"-"+i},[e._v("\n          科室: "+e._s(s.name)+" "),t("br"),e._v("\n          开始时间: "+e._s(s.time)+"\n        ")])}),e._v(" "),t("p",{directives:[{name:"show",rawName:"v-show",value:"循环任务"==e.taskType,expression:"taskType == '循环任务'"}]},[e._v("\n          结束时间: "+e._s(e.circulationMsg.finishTime)+"\n        ")])],2),e._v(" "),t("div",{staticClass:"office-name"},[e._v("任务内容")]),e._v(" "),t("div",{staticClass:"office-name-specific"},[t("p",{directives:[{name:"show",rawName:"v-show",value:"调度任务"!==e.taskType,expression:"taskType !== '调度任务'"}]},[e._v("\n          任务名称: "+e._s(e.taskDetailsMessage.taskTypeName)+"\n        ")]),e._v(" "),t("p",{directives:[{name:"show",rawName:"v-show",value:"调度任务"==e.taskType,expression:"taskType == '调度任务'"}]},[e._v("\n          任务名称: "+e._s(e.dispatchMsg.taskTypeName)+"\n        ")])]),e._v(" "),t("div",{staticClass:"office-name"},[e._v("转运工具")]),e._v(" "),t("div",{staticClass:"office-name-specific"},[t("p",{directives:[{name:"show",rawName:"v-show",value:"调度任务"!==e.taskType,expression:"taskType !== '调度任务'"}]},[e._v("\n          工具名称: "+e._s(e.taskDetailsMessage.toolName)+"\n        ")]),e._v(" "),t("p",{directives:[{name:"show",rawName:"v-show",value:"调度任务"==e.taskType,expression:"taskType == '调度任务'"}]},[e._v("\n          工具名称: "+e._s(e.dispatchMsg.toolName)+"\n        ")])]),e._v(" "),t("div",{staticClass:"office-name"},[e._v("任务状态")]),e._v(" "),t("div",{staticClass:"office-name-specific"},[t("p",{directives:[{name:"show",rawName:"v-show",value:"调度任务"!==e.taskType,expression:"taskType !== '调度任务'"}]},[e._v("\n          状态: "+e._s(e.stateTransfer(e.taskDetailsMessage.state))+"\n        ")]),e._v(" "),t("p",{directives:[{name:"show",rawName:"v-show",value:"调度任务"==e.taskType,expression:"taskType == '调度任务'"}]},[e._v("\n          状态: "+e._s(e.stateTransfer(e.dispatchMsg.state))+"\n        ")])])])])],1)},staticRenderFns:[function(){var e=this.$createElement,s=this._self._c||e;return s("div",{staticClass:"transport-type-title"},[s("h3")])}]};var T=t("C7Lr")(u,h,!1,function(e){t("VEay")},"data-v-84c4bd8c",null);s.default=T.exports},VEay:function(e,s){}});