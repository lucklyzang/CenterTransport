webpackJsonp([11],{ywGS:function(e,t){},zfRO:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("4YfN"),s=a.n(n),i=a("0eBz"),o=a("yl8L"),r=a("gh9j"),c=a("0DTB"),l=a("fFvN"),u=a("sqAx"),p=a("SJI6"),d=a("fdFc"),f=(a("M9A7"),{name:"appointTaskCustomerInfo",data:function(){return{leftDropdownDataList:["退出登录"],leftDownShow:!1,liIndex:null,appointDescribe:"",patientName:"",sex:"",age:"",bedNumber:"",number:"",taskSurePng:a("WoXg"),taskCancelPng:a("faDW")}},components:{VanFieldSelectPicker:o.a,HeaderTop:i.a,NoData:u.a,FooterBottom:c.a,ElectronicSignature:r.a},computed:s()({},Object(p.mapGetters)(["navTopTitle","userInfo","originalSignature","appointTaskMessage","completeSweepcodeDepartureInfo","currentElectronicSignature"]),{proId:function(){return JSON.parse(Object(d.l)("userInfo")).extendData.proId},taskId:function(){return this.appointTaskMessage.id},workerId:function(){return this.userInfo.extendData.userId}}),mounted:function(){var e=this;if(console.log(this.appointTaskMessage),!Object(d.b)()){pushHistory(),this.gotoURL(function(){pushHistory(),e.backTo()})}this.echoCustomerInfo()},methods:s()({},Object(p.mapMutations)(["changeTitleTxt","changeCurrentElectronicSignature","changeCatchComponent","changeCompleteSweepcodeDepartureInfo"]),{leftLiCLick:function(e){this.liIndex=e,localStorage.clear(),this.$router.push({path:"/"})},sexTransfer:function(e){switch(e){case 0:return"未指定";case 1:return"男";case 2:return"女";default:return"未指定"}},echoCustomerInfo:function(){this.patientName=this.appointTaskMessage.patientName,this.sex=this.sexTransfer(this.appointTaskMessage.sex),this.age=this.appointTaskMessage.age,this.bedNumber=this.appointTaskMessage.bedNumber,this.number=this.appointTaskMessage.taskNumber,this.appointDescribe=this.appointTaskMessage.taskRemark},rewrite:function(){this.$refs.mychild.overwrite()},checkCustomerInfo:function(e){var t=this;Object(l.F)(e).then(function(e){e&&200==e.data.code?(t.$toast(""+e.data.msg),t.rewrite(),t.clearInfo()):t.$dialog.alert({message:""+e.data.msg,closeOnPopstate:!0}).then(function(){})}).catch(function(e){t.$dialog.alert({message:""+e.message,closeOnPopstate:!0}).then(function(){})})},clearInfo:function(){this.changeCurrentElectronicSignature({DtMsg:null}),this.$router.push({path:"/appointDetails"}),this.changeTitleTxt({tit:"预约任务详情"}),Object(d.q)("currentTitle","预约任务详情")},skipMyInfo:function(){this.leftDownShow=!this.leftDownShow},appointMessageSure:function(){this.$refs.mychild.commitSure(),this.currentElectronicSignature!=this.originalSignature&&this.currentElectronicSignature&&this.checkCustomerInfo({taskId:this.taskId,proId:this.proId,workerId:this.workerId,sign:this.currentElectronicSignature})},appointMessageCancel:function(){var e=this,t=Object(d.j)(this.completeSweepcodeDepartureInfo);if(this.completeSweepcodeDepartureInfo.length>0){var a=this.completeSweepcodeDepartureInfo.indexOf(this.completeSweepcodeDepartureInfo.filter(function(t){return t.taskId==e.taskId})[0]);-1!=a&&(t[a].patienVerified=!1,t[a].startPonitVerified=!1,t[a].backStartPonitVerified=!1)}this.changeCompleteSweepcodeDepartureInfo(t),Object(d.q)("completAppointTaskSweepCodeDepartureInfo",{sweepCodeInfo:t}),this.$router.push({path:"/appointDetails"}),this.changeTitleTxt({tit:"预约任务详情"}),Object(d.q)("currentTitle","预约任务详情")},backTo:function(){this.$dialog.alert({message:"请确认客户信息",closeOnPopstate:!0}).then(function(){})}})}),h={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content-wrapper"},[a("HeaderTop",{attrs:{title:e.navTopTitle}},[a("van-icon",{attrs:{slot:"left",name:"arrow-left"},on:{click:e.backTo},slot:"left"})],1),e._v(" "),a("ul",{directives:[{name:"show",rawName:"v-show",value:e.leftDownShow,expression:"leftDownShow"}],staticClass:"left-dropDown"},e._l(e.leftDropdownDataList,function(t,n){return a("li",{key:n,class:{liStyle:e.liIndex==n},on:{click:function(t){return e.leftLiCLick(n)}}},[e._v(e._s(t))])}),0),e._v(" "),e._m(0),e._v(" "),a("div",{staticClass:"customerInfo-box"},[a("div",{staticClass:"custormer-info"},[a("van-field",{attrs:{disabled:"",label:"病人姓名"},model:{value:e.patientName,callback:function(t){e.patientName=t},expression:"patientName"}}),e._v(" "),a("van-field",{attrs:{disabled:"",label:"病人性别"},model:{value:e.sex,callback:function(t){e.sex=t},expression:"sex"}}),e._v(" "),a("van-field",{attrs:{disabled:"",label:"病人年龄"},model:{value:e.age,callback:function(t){e.age=t},expression:"age"}}),e._v(" "),a("van-field",{attrs:{disabled:"",label:"病人床号"},model:{value:e.bedNumber,callback:function(t){e.bedNumber=t},expression:"bedNumber"}}),e._v(" "),a("van-field",{attrs:{disabled:"",label:"任务编号"},model:{value:e.number,callback:function(t){e.number=t},expression:"number"}}),e._v(" "),a("van-field",{attrs:{rows:"1",autosize:"",disabled:"",label:"描述",type:"textarea"},model:{value:e.appointDescribe,callback:function(t){e.appointDescribe=t},expression:"appointDescribe"}})],1)]),e._v(" "),a("div",{staticClass:"electronic-signature"},[a("ElectronicSignature",{ref:"mychild"})],1),e._v(" "),a("div",{staticClass:"rewrite-box"},[a("span",{on:{click:e.rewrite}},[e._v("重写")])]),e._v(" "),a("div",{staticClass:"btn-area"},[a("span",[a("img",{attrs:{src:e.taskSurePng,alt:""},on:{click:e.appointMessageSure}})]),e._v(" "),a("span",[a("img",{attrs:{src:e.taskCancelPng,alt:""},on:{click:e.appointMessageCancel}})])])],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"sweep-code-title"},[t("h3",[this._v("客户预约信息")])])}]};var m=a("C7Lr")(f,h,!1,function(e){a("ywGS")},"data-v-e1e9912e",null);t.default=m.exports}});