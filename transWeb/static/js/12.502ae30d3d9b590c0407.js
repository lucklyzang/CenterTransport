webpackJsonp([12],{"Dzd/":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("HzJ8"),i=a.n(s),n=a("4YfN"),r=a.n(n),o=a("0eBz"),c=a("0DTB"),l=a("fFvN"),h=a("sqAx"),p=a("IcnI"),d=a("NxGh"),v=a("SJI6"),m=a("fdFc"),u=(a("M9A7"),{name:"appointTask",data:function(){return{showLoadingHint:!1,noDataShow:!1,reasonShow:!1,reasonOperationList:[],reasonIndex:"",reasonText:"",reasonName:"",reasonValue:"",stateIndex:0,taskQueryShow:!1,leftDropdownDataList:["退出登录"],stateListShow:!1,stateScreenVal:"全部",leftDownShow:!1,stateList:["全部","未获取","已获取","进行中","未结束"],startTime:"",endTime:"",startTimePop:!1,endTimePop:!1,currentDateStart:new Date,currentDateEnd:new Date,minDateStart:new Date(2020,0,1),minDateEnd:new Date(2020,0,1),liIndex:null,transferWorkerShow:!1,taskOneList:["待办任务","历史任务"],taskLlineOneIndex:"0",cancelTask:!1,transferTask:!1,waitHandleCheck:!0,cancelTaskBtnShow:!1,transferTaskBtnShow:!1,isRefresh:!1,waitHandleBox:!0,taskId:"",stateFilterList:[],stateCompleteList:[],waitBaskList:[],screenTaskList:[],transferTaskIdList:[],drawCompleteTaskIdList:[],taskGetPng:a("tlh0"),taskSearchPng:a("Xyq3")}},components:{HeaderTop:o.a,NoData:h.a,Loading:d.a,FooterBottom:c.a},computed:r()({},Object(v.mapGetters)(["navTopTitle","userInfo","completeSweepcodeDestinationInfo","globalTimer","catch_components","isFreshAppointTaskPage"]),{proId:function(){return JSON.parse(Object(m.l)("userInfo")).extendData.proId},workerId:function(){return JSON.parse(Object(m.l)("userInfo")).extendData.userId}}),watch:{waitBaskList:{handler:function(t,e){t.some(function(t,e){return 1==t.taskCheck})?(this.cancelTaskBtnShow=!0,this.transferTaskBtnShow=!0):(this.cancelTaskBtnShow=!1,this.transferTaskBtnShow=!1)},deep:!0,immediate:!0},stateFilterList:{handler:function(t,e){t.some(function(t,e){return 1==t.taskCheck})?(this.cancelTaskBtnShow=!0,this.transferTaskBtnShow=!0):(this.cancelTaskBtnShow=!1,this.transferTaskBtnShow=!1)},deep:!0,immediate:!0}},mounted:function(){var t=this;if(!Object(m.b)()){pushHistory(),this.gotoURL(function(){pushHistory(),t.$router.push({path:"home"}),t.changeTitleTxt({tit:"中央运送"}),Object(m.q)("currentTitle","中央运送")})}document.addEventListener("click",function(e){"status-name"!=e.target.className&&(t.stateListShow=!1),"van-icon van-icon-manager-o"!=e.target.className&&"left-dropDown"!=e.target.className&&(t.leftDownShow=!1)}),this.queryStateFilterDispatchTask({proId:this.userInfo.extendData.proId,workerId:this.workerId,state:-1,isMobile:1,startDate:"",endDate:""},this.stateIndex),this.drawTaskId()},activated:function(){var t=this;if(!Object(m.b)()){pushHistory(),this.gotoURL(function(){pushHistory(),t.$router.push({path:"home"}),t.changeTitleTxt({tit:"中央运送"}),Object(m.q)("currentTitle","中央运送")})}document.addEventListener("click",function(e){"status-name"!=e.target.className&&(t.stateListShow=!1),"van-icon van-icon-manager-o"!=e.target.className&&"left-dropDown"!=e.target.className&&(t.leftDownShow=!1)}),this.isFreshAppointTaskPage&&(this.queryStateFilterDispatchTask({proId:this.userInfo.extendData.proId,workerId:this.workerId,isMobile:1,state:-1,startDate:"",endDate:""},this.stateIndex),this.drawTaskId())},beforeRouteEnter:function(t,e,a){var s=p.a.state.catchComponent.catch_components;-1===s.indexOf("appointTask")&&s.push("appointTask"),a()},beforeRouteLeave:function(t,e,a){var s=this.catch_components;"appointDetails"!==t.name&&(s.indexOf("appointTask")>-1&&this.changeCatchComponent([]));a()},methods:r()({},Object(v.mapMutations)(["changeTitleTxt","changeAppointTaskMessage","changeAppointTaskTransferIdList","changeTaskDetailsMessage","changeTaskType","changeOverDueWay","changeCatchComponent"]),{leftLiCLick:function(t){this.liIndex=t,this.userLoginOut(this.proId,this.userInfo.userName)},cancelTaskEvent:function(t){var e=this;this.taskId=t.id,this.reasonShow=!0,Object(l.z)({proId:this.proId,state:0}).then(function(t){if(e.reasonOperationList=[],t&&200==t.data.code)if(t.data.data.length>0){var a=!0,s=!1,n=void 0;try{for(var r,o=i()(t.data.data);!(a=(r=o.next()).done);a=!0){var c=r.value;e.reasonOperationList.push({text:c.cancelName,value:c.id})}}catch(t){s=!0,n=t}finally{try{!a&&o.return&&o.return()}finally{if(s)throw n}}}else e.$toast("没有查到退回原因")}).catch(function(t){e.$dialog.alert({message:""+t.message,closeOnPopstate:!0}).then(function(){})}),this.reasonIndex=""},reasonSure:function(){var t=this;""!==this.reasonIndex?Object(l.b)({proId:this.proId,taskId:this.taskId,workerId:this.workerId,reason:this.reasonText}).then(function(e){e&&200==e.data.code?(t.$toast(""+e.data.msg),t.queryStateFilterDispatchTask({proId:t.userInfo.extendData.proId,workerId:t.workerId,isMobile:1,state:-1,startDate:"",endDate:""},t.stateIndex)):t.$toast(""+e.data.msg)}).catch(function(e){t.$dialog.alert({message:""+e.message,closeOnPopstate:!0}).then(function(){})}):this.$toast("请选择退回原因")},reasonCancel:function(){this.reasonIndex="",this.reasonName="",this.reasonShow=!1},reasonCheck:function(t,e){this.reasonIndex=e,this.reasonText=t.text,this.reasonName=t.text,this.reasonValue=t.value},intoTask:function(t){this.$router.push({path:"/appointDetails"}),this.changeTitleTxt({tit:"预约任务详情"}),Object(m.q)("currentTitle","预约任务详情"),this.changeAppointTaskMessage({DtMsg:t}),Object(m.q)("currentAppointTaskMessage",t)},userLoginOut:function(t,e){var a=this;this.changeOverDueWay(!0),Object(m.q)("storeOverDueWay",!0),Object(l.L)(t,e).then(function(t){t&&200==t.data.code?(a.globalTimer&&window.clearInterval(a.globalTimer),Object(m.m)(),a.changeCatchComponent([]),a.$router.push({path:"/"})):(a.$dialog.alert({message:""+t.data.msg,closeOnPopstate:!0}).then(function(){}),a.changeOverDueWay(!1),Object(m.q)("storeOverDueWay",!1))}).catch(function(t){a.changeOverDueWay(!1),Object(m.q)("storeOverDueWay",!1),a.$dialog.alert({message:""+t.message,closeOnPopstate:!0}).then(function(){})})},priorityTransfer:function(t){switch(t){case 1:return"正常";case 2:return"重要";case 3:return"紧急";case 4:return"紧急重要"}},skipMyInfo:function(){this.leftDownShow=!this.leftDownShow},startTimeChange:function(t){var e=t.getValues();this.startTime=e[0]+"-"+e[1]+"-"+e[2]},endTimeChange:function(t){var e=t.getValues();this.endTime=e[0]+"-"+e[1]+"-"+e[2]},initDate:function(){var t=Object(m.k)("YYYY-MM-DD").split("-");this.startTime=t[0]+"-"+t[1]+"-"+t[2],this.endTime=t[0]+"-"+t[1]+"-"+t[2]},searchCompleteTask:function(){this.queryCompleteDispatchTask({proId:this.userInfo.extendData.proId,workerId:this.workerId,state:-2,startDate:this.startTime,endDate:this.endTime})},stateTransfer:function(t){switch(t){case 0:return"未分配";case 1:return"未查阅";case 2:return"未开始";case 3:return"进行中";case 4:return"未结束";case 5:return"已延迟";case 6:return"已取消";case 7:return"已完成"}},queryStateFilterDispatchTask:function(t,e){var a=this;this.noDataShow=!1,this.showLoadingHint=!0,Object(l.v)(t).then(function(t){a.showLoadingHint=!1;var s=[];if(a.stateFilterList=[],t&&200==t.data.code)if(a.isRefresh=!1,t.data.data.length>0){a.noDataShow=!1;var n=!0,r=!1,o=void 0;try{for(var c,l=i()(t.data.data);!(n=(c=l.next()).done);n=!0){var h=c.value;s.push({taskCheck:!1,createTime:h.createTime,state:h.state,setOutPlaceId:h.setOutPlaceId,setOutPlaceName:h.setOutPlaceName,destinationName:h.destinationName,destinationId:h.destinationId,taskTypeName:h.taskName,toolName:h.toolName,id:h.id,taskNumber:h.taskNumber,patientName:h.patientName,bedNumber:h.badNumber,sex:h.sex,age:h.age,patientId:h.id,number:h.number,priority:h.priority,taskRemark:h.taskRemark})}}catch(t){r=!0,o=t}finally{try{!n&&l.return&&l.return()}finally{if(r)throw o}}if(0==e){if(a.stateFilterList=s,0==a.stateFilterList.length)return void(a.noDataShow=!0)}else if(1==e){if(a.stateFilterList=s.filter(function(t){return 1==t.state}),0==a.stateFilterList.length)return void(a.noDataShow=!0)}else if(2==e){if(a.stateFilterList=s.filter(function(t){return 2==t.state}),0==a.stateFilterList.length)return void(a.noDataShow=!0)}else if(3==e){if(a.stateFilterList=s.filter(function(t){return 3==t.state}),0==a.stateFilterList.length)return void(a.noDataShow=!0)}else if(4==e&&(a.stateFilterList=s.filter(function(t){return 4==t.state}),0==a.stateFilterList.length))return void(a.noDataShow=!0)}else a.noDataShow=!0;else a.$dialog.alert({message:""+t.data.msg,closeOnPopstate:!0}).then(function(){a.noDataShow=!0})}).catch(function(t){a.$dialog.alert({message:""+t.message,closeOnPopstate:!0}).then(function(){a.noDataShow=!0}),a.showLoadingHint=!1})},onRefresh:function(){this.queryStateFilterDispatchTask({proId:this.userInfo.extendData.proId,workerId:this.workerId,isMobile:1,state:-1,startDate:"",endDate:""},this.stateIndex)},drawTaskId:function(){if(this.drawCompleteTaskIdList=[],this.completeSweepcodeDestinationInfo.length>0){var t=!0,e=!1,a=void 0;try{for(var s,n=i()(this.completeSweepcodeDestinationInfo);!(t=(s=n.next()).done);t=!0){var r=s.value;for(var o in r)"taskId"==o&&this.drawCompleteTaskIdList.push(r[o])}}catch(t){e=!0,a=t}finally{try{!t&&n.return&&n.return()}finally{if(e)throw a}}}},queryCompleteDispatchTask:function(t){var e=this;this.noDataShow=!1,this.showLoadingHint=!0,Object(l.v)(t).then(function(t){if(e.stateCompleteList=[],e.showLoadingHint=!1,e.noDataShow=!0,t&&200==t.data.code)if(t.data.data.length>0){e.noDataShow=!1;var a=!0,s=!1,n=void 0;try{for(var r,o=i()(t.data.data);!(a=(r=o.next()).done);a=!0){var c=r.value;e.stateCompleteList.push({taskCheck:!1,createTime:c.createTime,spaces:c.destinationName,state:c.state,finishTime:c.finishTime,setOutPlaceName:c.setOutPlaceName,destinationName:c.destinationName,taskTypeName:c.taskName,toolName:c.toolName,taskNumber:c.taskNumber,id:c.id,patientName:c.patientName,bedNumber:c.badNumber,sex:c.sex,age:c.age,patientId:c.id,number:c.number,priority:c.priority,taskRemark:c.taskRemark})}}catch(t){s=!0,n=t}finally{try{!a&&o.return&&o.return()}finally{if(s)throw n}}}else e.noDataShow=!0;else e.$dialog.alert({message:""+t.data.msg,closeOnPopstate:!0}).then(function(){e.noDataShow=!0})}).catch(function(t){e.$dialog.alert({message:""+t.message,closeOnPopstate:!0}).then(function(){e.noDataShow=!0}),e.showLoadingHint=!1})},emptyHandle:function(){},backTo:function(){this.$router.push({path:"home"}),this.changeTitleTxt({tit:"中央运送"}),Object(m.q)("currentTitle","中央运送")},taskLineOneEvent:function(t,e){this.taskLlineOneIndex=e,this.transferTask=!1,this.cancelTask=!1,this.noDataShow=!1,this.initDate(),"0"==e?(this.stateIndex=0,this.taskQueryShow=!1,this.waitHandleBox=!0,this.stateScreenVal="全部",this.queryStateFilterDispatchTask({proId:this.userInfo.extendData.proId,workerId:this.workerId,isMobile:1,state:-1,startDate:"",endDate:""},this.stateIndex)):"1"==e&&(this.stateIndex=null,this.taskQueryShow=!0,this.waitHandleBox=!1,this.cancelTaskBtnShow=!1,this.transferTaskBtnShow=!1,this.queryCompleteDispatchTask({proId:this.userInfo.extendData.proId,workerId:this.workerId,state:-2,startDate:this.startTime,endDate:this.endTime}))},stateListEvent:function(t,e){this.stateIndex=t,this.stateScreenVal=e,this.queryStateFilterDispatchTask({proId:this.userInfo.extendData.proId,workerId:this.workerId,isMobile:1,state:-1,startDate:"",endDate:""},this.stateIndex)},statusScreenEvent:function(){this.statusScreen=!0,this.taskQueryShow=!1,this.stateListShow=!this.stateListShow,"状态筛选"==this.stateScreenVal&&(this.queryStateFilterDispatchTask({proId:this.userInfo.extendData.proId,workerId:this.workerId,isMobile:1,state:-1,startDate:"",endDate:""},0),this.stateIndex=0)},transferTaskEvent:function(){this.transferTaskIdList=[];var t;if(1==(t=this.stateFilterList.filter(function(t){return 1==t.taskCheck})).length){var e=!0,a=!1,s=void 0;try{for(var n,r=i()(t);!(e=(n=r.next()).done);e=!0){var o=n.value;for(var c in o)"id"==c&&this.transferTaskIdList.push(o.id)}}catch(t){a=!0,s=t}finally{try{!e&&r.return&&r.return()}finally{if(a)throw s}}this.transferTask=!0,this.cancelTask=!1,this.transferWorkerShow=!0,this.changeAppointTaskTransferIdList({DtMsg:this.transferTaskIdList}),this.$router.push({path:"/appointTaskForm"}),this.changeTitleTxt({tit:"转移人员选择"}),Object(m.q)("currentTitle","转移人员选择")}else this.$toast("只能同时转移一个任务")},waitTaskChecked:function(t){},getTask:function(t){var e=this;Object(l.I)({proId:this.proId,taskId:t,workerId:this.workerId}).then(function(t){t&&200==t.data.code&&e.queryStateFilterDispatchTask({proId:e.userInfo.extendData.proId,workerId:e.workerId,isMobile:1,state:-1,startDate:"",endDate:""},0)}).catch(function(t){e.$dialog.alert({message:""+t.message,closeOnPopstate:!0}).then(function(){})})}})}),k={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-wrapper"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.noDataShow,expression:"noDataShow"}],staticClass:"no-data"},[a("NoData")],1),t._v(" "),a("div",{staticClass:"loading"},[a("loading",{attrs:{isShow:t.showLoadingHint,textContent:"加载中,请稍候····",textColor:"#2895ea"}})],1),t._v(" "),a("HeaderTop",{attrs:{title:t.navTopTitle}},[a("van-icon",{attrs:{slot:"left",name:"arrow-left"},on:{click:t.backTo},slot:"left"}),t._v(" "),a("van-icon",{attrs:{slot:"right",name:"manager-o"},on:{click:t.skipMyInfo},slot:"right"})],1),t._v(" "),a("ul",{directives:[{name:"show",rawName:"v-show",value:t.leftDownShow,expression:"leftDownShow"}],staticClass:"left-dropDown"},t._l(t.leftDropdownDataList,function(e,s){return a("li",{key:s,class:{liStyle:t.liIndex==s},on:{click:function(e){return t.leftLiCLick(s)}}},[t._v(t._s(e))])}),0),t._v(" "),a("div",{staticClass:"dispatch-task-title"},[a("div",{staticClass:"task-line-one-wrapper"},[a("ul",{staticClass:"task-line-one"},t._l(t.taskOneList,function(e,s){return a("li",{key:s,class:{taskLineOneStyle:t.taskLlineOneIndex==s},on:{click:function(a){return t.taskLineOneEvent(e,s)}}},[t._v(t._s(e))])}),0)]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0==t.taskQueryShow,expression:"taskQueryShow == false"}],staticClass:"status-box"},[t._m(0),t._v(" "),a("p",{staticClass:"status-name-box"},[a("span",{staticClass:"status-name-title",on:{click:function(e){return e.stopPropagation(),t.statusScreenEvent(e)}}},[t._v(t._s(t.stateScreenVal))]),t._v(" "),a("ul",{directives:[{name:"show",rawName:"v-show",value:t.stateListShow,expression:"stateListShow"}],staticClass:"status-name"},t._l(t.stateList,function(e,s){return a("li",{key:s,staticClass:"state-li",class:{stateListStyle:t.stateIndex==s},on:{click:function(a){return a.stopPropagation(),t.stateListEvent(s,e)}}},[t._v(t._s(e))])}),0)])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.cancelTaskBtnShow||t.transferTaskBtnShow,expression:"cancelTaskBtnShow || transferTaskBtnShow"}],staticClass:"task-operate-box"},[a("span",{directives:[{name:"show",rawName:"v-show",value:t.transferTaskBtnShow,expression:"transferTaskBtnShow"}],on:{click:t.transferTaskEvent}},[t._v("转移任务")])])]),t._v(" "),a("van-pull-refresh",{directives:[{name:"show",rawName:"v-show",value:t.waitHandleBox,expression:"waitHandleBox"}],staticClass:"wait-handle-box",attrs:{"success-text":"刷新成功"},on:{refresh:t.onRefresh},model:{value:t.isRefresh,callback:function(e){t.isRefresh=e},expression:"isRefresh"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:0==t.stateIndex,expression:"stateIndex == 0"}],staticClass:"state-filter-all wait-handle-one"},[a("div",{staticClass:"task-status-list"},t._l(t.stateFilterList,function(e,s){return a("div",{key:e+"-"+s,staticClass:"wait-handle-list"},[a("div",{staticClass:"wait-handle-message"},[a("div",{staticClass:"handle-message-line-wrapper"},[a("p",[a("span",{staticClass:"message-tit"},[t._v("开始时间: "+t._s(e.createTime))])]),t._v(" "),a("p",[a("span",{staticClass:"message-tit"},[t._v("任务描述: "+t._s(e.taskRemark))])])]),t._v(" "),a("div",{staticClass:"handle-message-line-wrapper"},[a("P",[a("span",{staticClass:"message-tit"},[t._v("起点: "+t._s(e.setOutPlaceName))])]),t._v(" "),a("p",[a("span",{staticClass:"message-tit"},[t._v("床号: "+t._s(e.bedNumber))])])],1),t._v(" "),a("div",{staticClass:"handle-message-line-wrapper"},[a("p",{staticClass:"p-other"},[a("span",{staticClass:"message-tit"},[t._v("优先级:")]),t._v(" "),a("span",{staticClass:"message-tit-real",class:{natureNormalStyle:1==e.priority,natureImportantStyle:1!=e.priority}},[t._v(t._s(t.priorityTransfer(e.priority)))])]),t._v(" "),a("P",{staticClass:"p-other"},[a("span",{staticClass:"message-tit"},[t._v("转运工具: "+t._s(e.toolName?e.toolName:"无"))])])],1),t._v(" "),a("div",{staticClass:"handle-message-line-wrapper"},[a("p",{staticClass:"p-other"},[a("span",{staticClass:"message-tit"},[t._v("状态:")]),t._v(" "),a("span",{staticClass:"message-tit-real",staticStyle:{color:"red"}},[t._v(t._s(t.stateTransfer(e.state)))])])])]),t._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:2==e.state||3==e.state,expression:"item.state == 2 || item.state == 3"}],staticClass:"wait-handle-check"},[a("van-checkbox",{on:{change:function(a){return t.waitTaskChecked(e.taskCheck)}},nativeOn:{click:function(e){return e.stopPropagation(),t.emptyHandle(e)}},model:{value:e.taskCheck,callback:function(a){t.$set(e,"taskCheck",a)},expression:"item.taskCheck"}})],1),t._v(" "),a("p",{staticClass:"get-wait-task"},[a("span",{directives:[{name:"show",rawName:"v-show",value:"1"==e.state,expression:"item.state == '1'"}]},[a("img",{attrs:{src:t.taskGetPng,alt:""},on:{click:function(a){return a.stopPropagation(),t.getTask(e.id)}}})]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:!("1"==e.state),expression:"!(item.state == '1')"}],on:{click:function(a){return a.stopPropagation(),t.intoTask(e)}}},[t._v("\n              进入任务\n            ")]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:"1"==e.state||"2"==e.state,expression:"item.state == '1' || item.state == '2' "}],on:{click:function(a){return t.cancelTaskEvent(e)}}},[t._v("取消")])])])}),0)]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:1==t.stateIndex,expression:"stateIndex == 1"}],staticClass:"state-filter-all wait-handle-one"},[a("div",{staticClass:"task-status-list"},t._l(t.stateFilterList,function(e,s){return a("div",{key:e+"-"+s,staticClass:"wait-handle-list"},[a("div",{staticClass:"wait-handle-message"},[a("div",{staticClass:"handle-message-line-wrapper"},[a("p",[a("span",{staticClass:"message-tit"},[t._v("开始时间: "+t._s(e.createTime))])]),t._v(" "),a("p",[a("span",{staticClass:"message-tit"},[t._v("任务描述: "+t._s(e.taskRemark))])])]),t._v(" "),a("div",{staticClass:"handle-message-line-wrapper"},[a("P",[a("span",{staticClass:"message-tit"},[t._v("起点: "+t._s(e.setOutPlaceName))])]),t._v(" "),a("p",[a("span",{staticClass:"message-tit"},[t._v("床号: "+t._s(e.bedNumber))])])],1),t._v(" "),a("div",{staticClass:"handle-message-line-wrapper"},[a("p",{staticClass:"p-other"},[a("span",{staticClass:"message-tit"},[t._v("优先级:")]),t._v(" "),a("span",{staticClass:"message-tit-real",class:{natureNormalStyle:1==e.priority,natureImportantStyle:1!=e.priority}},[t._v(t._s(t.priorityTransfer(e.priority)))])]),t._v(" "),a("P",{staticClass:"p-other"},[a("span",{staticClass:"message-tit"},[t._v("转运工具: "+t._s(e.toolName?e.toolName:"无"))])])],1),t._v(" "),a("div",{staticClass:"handle-message-line-wrapper"},[a("p",{staticClass:"p-other"},[a("span",{staticClass:"message-tit"},[t._v("状态:")]),t._v(" "),a("span",{staticClass:"message-tit-real",staticStyle:{color:"red"}},[t._v(t._s(t.stateTransfer(e.state)))])])])]),t._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:2==e.state||3==e.state,expression:"item.state == 2 || item.state == 3"}],staticClass:"wait-handle-check"},[a("van-checkbox",{on:{change:function(a){return t.waitTaskChecked(e.taskCheck)}},nativeOn:{click:function(e){return e.stopPropagation(),t.emptyHandle(e)}},model:{value:e.taskCheck,callback:function(a){t.$set(e,"taskCheck",a)},expression:"item.taskCheck"}})],1),t._v(" "),a("p",{staticClass:"get-wait-task"},[a("span",{directives:[{name:"show",rawName:"v-show",value:"1"==e.state,expression:"item.state == '1'"}]},[a("img",{attrs:{src:t.taskGetPng,alt:""},on:{click:function(a){return a.stopPropagation(),t.getTask(e.id)}}})]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:!("1"==e.state),expression:"!(item.state == '1')"}],on:{click:function(a){return a.stopPropagation(),t.intoTask(e)}}},[t._v("\n              进入任务\n            ")]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:"1"==e.state||"2"==e.state,expression:"item.state == '1' || item.state == '2' "}],on:{click:t.cancelTaskEvent}},[t._v("取消")])])])}),0)]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:2==t.stateIndex,expression:"stateIndex == 2"}],staticClass:"state-filter-all wait-handle-one"},[a("div",{staticClass:"task-status-list"},t._l(t.stateFilterList,function(e,s){return a("div",{key:e+"-"+s,staticClass:"wait-handle-list"},[a("div",{staticClass:"wait-handle-message"},[a("div",{staticClass:"handle-message-line-wrapper"},[a("p",[a("span",{staticClass:"message-tit"},[t._v("开始时间: "+t._s(e.createTime))])]),t._v(" "),a("p",[a("span",{staticClass:"message-tit"},[t._v("任务描述: "+t._s(e.taskRemark))])])]),t._v(" "),a("div",{staticClass:"handle-message-line-wrapper"},[a("P",[a("span",{staticClass:"message-tit"},[t._v("起点: "+t._s(e.setOutPlaceName))])]),t._v(" "),a("p",[a("span",{staticClass:"message-tit"},[t._v("床号: "+t._s(e.bedNumber))])])],1),t._v(" "),a("div",{staticClass:"handle-message-line-wrapper"},[a("p",{staticClass:"p-other"},[a("span",{staticClass:"message-tit"},[t._v("优先级:")]),t._v(" "),a("span",{staticClass:"message-tit-real",class:{natureNormalStyle:1==e.priority,natureImportantStyle:1!=e.priority}},[t._v(t._s(t.priorityTransfer(e.priority)))])]),t._v(" "),a("P",{staticClass:"p-other"},[a("span",{staticClass:"message-tit"},[t._v("转运工具: "+t._s(e.toolName?e.toolName:"无"))])])],1),t._v(" "),a("div",{staticClass:"handle-message-line-wrapper"},[a("p",{staticClass:"p-other"},[a("span",{staticClass:"message-tit"},[t._v("状态:")]),t._v(" "),a("span",{staticClass:"message-tit-real",staticStyle:{color:"red"}},[t._v(t._s(t.stateTransfer(e.state)))])])])]),t._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:2==e.state||3==e.state,expression:"item.state == 2 || item.state == 3"}],staticClass:"wait-handle-check"},[a("van-checkbox",{on:{change:function(a){return t.waitTaskChecked(e.taskCheck)}},nativeOn:{click:function(e){return e.stopPropagation(),t.emptyHandle(e)}},model:{value:e.taskCheck,callback:function(a){t.$set(e,"taskCheck",a)},expression:"item.taskCheck"}})],1),t._v(" "),a("p",{staticClass:"get-wait-task"},[a("span",{directives:[{name:"show",rawName:"v-show",value:"1"==e.state,expression:"item.state == '1'"}]},[a("img",{attrs:{src:t.taskGetPng,alt:""},on:{click:function(a){return a.stopPropagation(),t.getTask(e.id)}}})]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:!("1"==e.state),expression:"!(item.state == '1')"}],on:{click:function(a){return a.stopPropagation(),t.intoTask(e)}}},[t._v("\n              进入任务\n            ")]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:"1"==e.state||"2"==e.state,expression:"item.state == '1' || item.state == '2' "}],on:{click:t.cancelTaskEvent}},[t._v("取消")])])])}),0)]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:3==t.stateIndex,expression:"stateIndex == 3"}],staticClass:"state-filter-all wait-handle-one"},[a("div",{staticClass:"task-status-list"},t._l(t.stateFilterList,function(e,s){return a("div",{key:e+"-"+s,staticClass:"wait-handle-list"},[a("div",{staticClass:"wait-handle-message"},[a("div",{staticClass:"handle-message-line-wrapper"},[a("p",[a("span",{staticClass:"message-tit"},[t._v("开始时间: "+t._s(e.createTime))])]),t._v(" "),a("p",[a("span",{staticClass:"message-tit"},[t._v("任务描述: "+t._s(e.taskRemark))])])]),t._v(" "),a("div",{staticClass:"handle-message-line-wrapper"},[a("P",[a("span",{staticClass:"message-tit"},[t._v("起点: "+t._s(e.setOutPlaceName))])]),t._v(" "),a("p",[a("span",{staticClass:"message-tit"},[t._v("床号: "+t._s(e.bedNumber))])])],1),t._v(" "),a("div",{staticClass:"handle-message-line-wrapper"},[a("p",{staticClass:"p-other"},[a("span",{staticClass:"message-tit"},[t._v("优先级:")]),t._v(" "),a("span",{staticClass:"message-tit-real",class:{natureNormalStyle:1==e.priority,natureImportantStyle:1!=e.priority}},[t._v(t._s(t.priorityTransfer(e.priority)))])]),t._v(" "),a("P",{staticClass:"p-other"},[a("span",{staticClass:"message-tit"},[t._v("转运工具: "+t._s(e.toolName?e.toolName:"无"))])])],1),t._v(" "),a("div",{staticClass:"handle-message-line-wrapper"},[a("p",{staticClass:"p-other"},[a("span",{staticClass:"message-tit"},[t._v("状态:")]),t._v(" "),a("span",{staticClass:"message-tit-real",staticStyle:{color:"red"}},[t._v(t._s(t.stateTransfer(e.state)))])])])]),t._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:2==e.state||3==e.state,expression:"item.state == 2 || item.state == 3"}],staticClass:"wait-handle-check"},[a("van-checkbox",{on:{change:function(a){return t.waitTaskChecked(e.taskCheck)}},nativeOn:{click:function(e){return e.stopPropagation(),t.emptyHandle(e)}},model:{value:e.taskCheck,callback:function(a){t.$set(e,"taskCheck",a)},expression:"item.taskCheck"}})],1),t._v(" "),a("p",{staticClass:"get-wait-task"},[a("span",{directives:[{name:"show",rawName:"v-show",value:"1"==e.state,expression:"item.state == '1'"}]},[a("img",{attrs:{src:t.taskGetPng,alt:""},on:{click:function(a){return a.stopPropagation(),t.getTask(e.id)}}})]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:!("1"==e.state),expression:"!(item.state == '1')"}],on:{click:function(a){return a.stopPropagation(),t.intoTask(e)}}},[t._v("\n              进入任务\n            ")]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:"1"==e.state||"2"==e.state,expression:"item.state == '1' || item.state == '2' "}],on:{click:t.cancelTaskEvent}},[t._v("取消")])])])}),0)]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:4==t.stateIndex,expression:"stateIndex == 4"}],staticClass:"state-filter-all wait-handle-one"},[a("div",{staticClass:"task-status-list"},t._l(t.stateFilterList,function(e,s){return a("div",{key:e+"-"+s,staticClass:"wait-handle-list"},[a("div",{staticClass:"wait-handle-message"},[a("div",{staticClass:"handle-message-line-wrapper"},[a("p",[a("span",{staticClass:"message-tit"},[t._v("开始时间: "+t._s(e.createTime))])]),t._v(" "),a("p",[a("span",{staticClass:"message-tit"},[t._v("任务描述: "+t._s(e.taskRemark))])])]),t._v(" "),a("div",{staticClass:"handle-message-line-wrapper"},[a("P",[a("span",{staticClass:"message-tit"},[t._v("起点: "+t._s(e.setOutPlaceName))])]),t._v(" "),a("p",[a("span",{staticClass:"message-tit"},[t._v("床号: "+t._s(e.bedNumber))])])],1),t._v(" "),a("div",{staticClass:"handle-message-line-wrapper"},[a("p",{staticClass:"p-other"},[a("span",{staticClass:"message-tit"},[t._v("优先级:")]),t._v(" "),a("span",{staticClass:"message-tit-real",class:{natureNormalStyle:1==e.priority,natureImportantStyle:1!=e.priority}},[t._v(t._s(t.priorityTransfer(e.priority)))])]),t._v(" "),a("P",{staticClass:"p-other"},[a("span",{staticClass:"message-tit"},[t._v("转运工具: "+t._s(e.toolName?e.toolName:"无"))])])],1),t._v(" "),a("div",{staticClass:"handle-message-line-wrapper"},[a("p",{staticClass:"p-other"},[a("span",{staticClass:"message-tit"},[t._v("状态:")]),t._v(" "),a("span",{staticClass:"message-tit-real",staticStyle:{color:"red"}},[t._v(t._s(t.stateTransfer(e.state)))])])])]),t._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:2==e.state||3==e.state,expression:"item.state == 2 || item.state == 3"}],staticClass:"wait-handle-check"},[a("van-checkbox",{on:{change:function(a){return t.waitTaskChecked(e.taskCheck)}},nativeOn:{click:function(e){return e.stopPropagation(),t.emptyHandle(e)}},model:{value:e.taskCheck,callback:function(a){t.$set(e,"taskCheck",a)},expression:"item.taskCheck"}})],1),t._v(" "),a("p",{staticClass:"get-wait-task"},[a("span",{directives:[{name:"show",rawName:"v-show",value:"1"==e.state,expression:"item.state == '1'"}]},[a("img",{attrs:{src:t.taskGetPng,alt:""},on:{click:function(a){return a.stopPropagation(),t.getTask(e.id)}}})]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:!("1"==e.state),expression:"!(item.state == '1')"}],on:{click:function(a){return a.stopPropagation(),t.intoTask(e)}}},[t._v("\n              进入任务\n            ")]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:"1"==e.state||"2"==e.state,expression:"item.state == '1' || item.state == '2' "}],on:{click:t.cancelTaskEvent}},[t._v("取消")])])])}),0)])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.taskQueryShow,expression:"taskQueryShow"}],staticClass:"task-query wait-handle task-complete"},[a("div",{staticClass:"content-middle-top"},[a("span",{staticClass:"time-between"},[t._v("至")]),t._v(" "),a("div",{staticClass:"content-middle-top-content"},[a("div",{staticStyle:{left:"0"}},[a("van-field",{attrs:{placeholder:"开始日期",readonly:"readonly","right-icon":"newspaper-o"},on:{click:function(e){t.startTimePop=!0}},model:{value:t.startTime,callback:function(e){t.startTime=e},expression:"startTime"}})],1),t._v(" "),a("div",{staticStyle:{right:"0"}},[a("van-field",{attrs:{placeholder:"结束日期",readonly:"readonly","right-icon":"newspaper-o"},on:{click:function(e){t.endTimePop=!0}},model:{value:t.endTime,callback:function(e){t.endTime=e},expression:"endTime"}})],1)]),t._v(" "),a("van-popup",{attrs:{label:"离开时间",position:"bottom",overlay:!0},model:{value:t.startTimePop,callback:function(e){t.startTimePop=e},expression:"startTimePop"}},[a("van-datetime-picker",{attrs:{type:"date","min-date":t.minDateStart},on:{cancel:function(e){t.startTimePop=!1},confirm:function(e){t.startTimePop=!1},change:t.startTimeChange},model:{value:t.currentDateStart,callback:function(e){t.currentDateStart=e},expression:"currentDateStart"}})],1),t._v(" "),a("van-popup",{attrs:{label:"离开时间",position:"bottom",overlay:!0},model:{value:t.endTimePop,callback:function(e){t.endTimePop=e},expression:"endTimePop"}},[a("van-datetime-picker",{attrs:{type:"date","min-date":t.minDateEnd},on:{cancel:function(e){t.endTimePop=!1},confirm:function(e){t.endTimePop=!1},change:t.endTimeChange},model:{value:t.currentDateEnd,callback:function(e){t.currentDateEnd=e},expression:"currentDateEnd"}})],1)],1),t._v(" "),a("p",{staticClass:"middle-top-search"},[a("span",[a("img",{attrs:{src:t.taskSearchPng,alt:""},on:{click:function(e){return e.stopPropagation(),t.searchCompleteTask(e)}}})])]),t._v(" "),a("div",{staticClass:"task-status-list"},t._l(t.stateCompleteList,function(e,s){return a("div",{key:e+"-"+s,staticClass:"wait-handle-list"},[a("div",{staticClass:"wait-handle-message"},[a("div",{staticClass:"handle-message-line-wrapper"},[a("p",[a("span",{staticClass:"message-tit"},[t._v("开始时间: "+t._s(e.createTime))])]),t._v(" "),a("p",[a("span",{staticClass:"message-tit"},[t._v("任务描述: "+t._s(e.taskRemark))])])]),t._v(" "),a("div",{staticClass:"handle-message-line-wrapper"},[a("P",[a("span",{staticClass:"message-tit"},[t._v("起点: "+t._s(e.setOutPlaceName))])]),t._v(" "),a("p",[a("span",{staticClass:"message-tit"},[t._v("床号: "+t._s(e.bedNumber))])])],1),t._v(" "),a("div",{staticClass:"handle-message-line-wrapper"},[a("p",{staticClass:"p-other"},[a("span",{staticClass:"message-tit"},[t._v("优先级:")]),t._v(" "),a("span",{staticClass:"message-tit-real",class:{natureNormalStyle:1==e.priority,natureImportantStyle:1!=e.priority}},[t._v(t._s(t.priorityTransfer(e.priority)))])]),t._v(" "),a("P",{staticClass:"p-other"},[a("span",{staticClass:"message-tit"},[t._v("转运工具: "+t._s(e.toolName?e.toolName:"无"))])])],1),t._v(" "),a("div",{staticClass:"handle-message-line-wrapper"},[a("p",{staticClass:"p-other"},[a("span",{staticClass:"message-tit"},[t._v("状态:")]),t._v(" "),a("span",{staticClass:"message-tit-real",staticStyle:{color:"red"}},[t._v(t._s(t.stateTransfer(e.state)))])])])]),t._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:2==e.state||3==e.state,expression:"item.state == 2 || item.state == 3"}],staticClass:"wait-handle-check"},[a("van-checkbox",{on:{change:function(a){return t.waitTaskChecked(e.taskCheck)}},nativeOn:{click:function(e){return e.stopPropagation(),t.emptyHandle(e)}},model:{value:e.taskCheck,callback:function(a){t.$set(e,"taskCheck",a)},expression:"item.taskCheck"}})],1),t._v(" "),a("p",{staticClass:"get-wait-task"},[a("span",{directives:[{name:"show",rawName:"v-show",value:"1"==e.state,expression:"item.state == '1'"}]},[a("img",{attrs:{src:t.taskGetPng,alt:""},on:{click:function(a){return a.stopPropagation(),t.getTask(e.id)}}})]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:!("1"==e.state),expression:"!(item.state == '1')"}],on:{click:function(a){return a.stopPropagation(),t.intoTask(e)}}},[t._v("\n            进入任务\n          ")]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:"1"==e.state||"2"==e.state,expression:"item.state == '1' || item.state == '2' "}],on:{click:t.cancelTaskEvent}},[t._v("取消")])])])}),0)]),t._v(" "),a("van-dialog",{attrs:{title:"请选择退回原因","show-cancel-button":"",width:"92%"},on:{confirm:t.reasonSure,cancel:t.reasonCancel},model:{value:t.reasonShow,callback:function(e){t.reasonShow=e},expression:"reasonShow"}},[a("div",{staticClass:"tool-name-list"},[a("div",{staticClass:"tool-name-list-title-innner"},[t._v("退回原因:")]),t._v(" "),a("div",{staticClass:"tool-name-list-content"},t._l(t.reasonOperationList,function(e,s){return a("span",{key:e+"-"+s,class:{spanStyle:t.reasonIndex===s},on:{click:function(a){return t.reasonCheck(e,s)}}},[t._v("\n          "+t._s(e.text)+"\n        ")])}),0)])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"task-line-two"},[e("span",{staticClass:"state-filter-span"},[this._v("\n          状态筛选\n        ")])])}]};var w=a("C7Lr")(u,k,!1,function(t){a("Hasi")},"data-v-cac9cd5a",null);e.default=w.exports},Hasi:function(t,e){}});