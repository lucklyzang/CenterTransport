webpackJsonp([27],{"96dL":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("HzJ8"),n=a.n(s),i=a("4YfN"),o=a.n(i),r=a("0eBz"),l=a("0DTB"),c=a("fFvN"),p=a("sqAx"),h=a("NxGh"),m=a("SJI6"),u=a("IcnI"),d=a("fdFc"),v=(a("M9A7"),{name:"dispatchTask",data:function(){return{value:0,taskId:"",showLoadingHint:!1,noDataShow:!1,stateListShow:!1,stateIndex:0,stateList:["全部","未获取","已获取","进行中"],stateScreenVal:"全部",startTime:"",endTime:"",toolIndex:"",toolText:"",toolShow:!1,toolName:"",toolValue:"",vehicleOperationList:[],startTimePop:!1,endTimePop:!1,currentDateStart:new Date,currentDateEnd:new Date,minDateStart:new Date(2020,0,1),minDateEnd:new Date(2020,0,1),stateFilterList:[],leftDropdownDataList:["退出登录"],leftDownShow:!1,liIndex:null,taskOneList:["待办任务","历史任务"],taskLlineOneIndex:"0",checkPerson:0,stateCompleteList:[],cancelTaskIdList:[],transferTaskIdList:[],cancelTask:!1,transferTask:!1,taskQueryShow:!1,waitHandleCheck:!0,waitHandleBox:!0,isRefresh:!1,waitBaskList:[],taskGetPng:a("tlh0"),taskSearchPng:a("Xyq3")}},components:{HeaderTop:r.a,NoData:p.a,Loading:h.a,FooterBottom:l.a},computed:o()({},Object(m.mapGetters)(["navTopTitle","isRefershDispatchTaskPage","userInfo","globalTimer","isFreshDispatchTaskPage","catch_components","templateType"]),{proId:function(){return this.userInfo.extendData.proId},workerId:function(){return JSON.parse(Object(d.l)("userInfo")).extendData.userId}}),watch:{},beforeRouteEnter:function(t,e,a){var s=u.a.state.catchComponent.catch_components;-1===s.indexOf("dispatchTask")&&s.push("dispatchTask"),a()},beforeRouteLeave:function(t,e,a){var s=this.catch_components;"dispatchDetails"!==t.name&&(s.indexOf("dispatchTask")>-1&&this.changeCatchComponent([]));a()},mounted:function(){var t=this;if(!Object(d.b)()){pushHistory(),this.gotoURL(function(){pushHistory(),t.$router.push({path:"home"}),t.changeTitleTxt({tit:"中央运送"}),Object(d.q)("currentTitle","中央运送")})}document.addEventListener("click",function(e){"status-name"!=e.target.className&&(t.stateListShow=!1),"van-icon van-icon-manager-o"!=e.target.className&&"left-dropDown"!=e.target.className&&(t.leftDownShow=!1)}),this.queryStateFilterDispatchTask(this.userInfo.extendData.proId,this.workerId,this.stateIndex)},activated:function(){var t=this;if(!Object(d.b)()){pushHistory(),this.gotoURL(function(){pushHistory(),t.$router.push({path:"home"}),t.changeTitleTxt({tit:"中央运送"}),Object(d.q)("currentTitle","中央运送")})}document.addEventListener("click",function(e){"status-name"!=e.target.className&&(t.stateListShow=!1),"van-icon van-icon-manager-o"!=e.target.className&&"left-dropDown"!=e.target.className&&(t.leftDownShow=!1)}),this.isFreshDispatchTaskPage&&this.queryStateFilterDispatchTask(this.userInfo.extendData.proId,this.workerId,0)},methods:o()({},Object(m.mapMutations)(["changeTitleTxt","changeDispatchTaskMessage","changedispatchTaskTransferIdList","changedispatchTaskCancelIdList","changeDispatchTaskDepartmentType","changeDispatchTaskState","changeIsCoerceTakePhoto","changeIsBack","changeIsSign","changeIsSingleDestination","changeTaskDetailsMessage","changeTaskType","changeOverDueWay","changeDispatchTaskId","changeCatchComponent"]),{startTimeChange:function(t){var e=t.getValues();this.startTime=e[0]+"-"+e[1]+"-"+e[2]},endTimeChange:function(t){var e=t.getValues();this.endTime=e[0]+"-"+e[1]+"-"+e[2]},initDate:function(){var t=Object(d.k)("YYYY-MM-DD").split("-");this.startTime=t[0]+"-"+t[1]+"-"+t[2],this.endTime=t[0]+"-"+t[1]+"-"+t[2]},searchCompleteTask:function(){this.queryCompleteDispatchTask({proId:this.proId,workerId:this.workerId,state:7,startDate:this.startTime,endDate:this.endTime})},queryStateFilterDispatchTask:function(t,e,a){var s=this;this.noDataShow=!1,this.showLoadingHint=!0,Object(c.l)(t,e).then(function(t){s.showLoadingHint=!1,s.noDataShow=!1;var e=[];if(s.stateFilterList=[],t&&200==t.data.code)if(s.isRefresh=!1,t.data.data.length>0){var i=!0,o=!1,r=void 0;try{for(var l,c=n()(t.data.data);!(i=(l=c.next()).done);i=!0){var p=l.value;"template_one"===s.templateType?e.push({createTime:p.createTime,planUseTime:p.planUseTime,planStartTime:p.planStartTime,state:p.state,setOutPlaceName:p.setOutPlaceName,setOutPlaceId:p.setOutPlaceId,parentTypeName:p.parentTypeName,destinationName:p.destinationName,destinationId:p.destinationId,taskTypeName:p.taskTypeName,toolName:p.toolName,priority:p.priority,id:p.id,patientName:p.patientName,bedNumber:p.bedNumber,startPhoto:p.startPhoto,endPhoto:p.endPhoto,isBack:p.isBack,isSign:p.isSign,number:p.number,actualCount:p.actualCount,distName:p.distName,hasSanOut:p.hasSanOut}):"template_two"===s.templateType&&e.push({createTime:p.createTime,planUseTime:p.planUseTime,planStartTime:p.planStartTime,state:p.state,setOutPlaceName:p.setOutPlaceName,setOutPlaceId:p.setOutPlaceId,toolName:p.toolName,priority:p.priority,id:p.id,startPhoto:p.startPhoto,endPhoto:p.endPhoto,isBack:p.isBack,isSign:p.isSign,number:p.number,actualCount:p.actualCount,distName:p.distName,destinations:p.destinations,hasSanOut:p.hasSanOut,patientInfoList:p.patientInfoList})}}catch(t){o=!0,r=t}finally{try{!i&&c.return&&c.return()}finally{if(o)throw r}}0==a?(s.stateFilterList=e,0==s.stateFilterList.length&&(s.noDataShow=!0)):1==a?(s.stateFilterList=e.filter(function(t){return 1==t.state}),0==s.stateFilterList.length&&(s.noDataShow=!0)):2==a?(s.stateFilterList=e.filter(function(t){return 2==t.state}),0==s.stateFilterList.length&&(s.noDataShow=!0)):3==a&&(s.stateFilterList=e.filter(function(t){return 3==t.state}),0==s.stateFilterList.length&&(s.noDataShow=!0)),console.log(s.stateFilterList)}else s.noDataShow=!0;else s.$dialog.alert({message:""+t.data.msg,closeOnPopstate:!0}).then(function(){s.noDataShow=!0})}).catch(function(t){s.$dialog.alert({message:""+t.message,closeOnPopstate:!0}).then(function(){s.noDataShow=!0}),s.showLoadingHint=!1})},onRefresh:function(){this.queryStateFilterDispatchTask(this.userInfo.extendData.proId,this.workerId,this.stateIndex)},queryCompleteDispatchTask:function(t){var e=this;this.noDataShow=!1,this.showLoadingHint=!0,Object(c.k)(t).then(function(t){if(e.showLoadingHint=!1,e.stateCompleteList=[],t&&200==t.data.code)if(t.data.data.length>0){e.noDataShow=!1;var a=!0,s=!1,i=void 0;try{for(var o,r=n()(t.data.data);!(a=(o=r.next()).done);a=!0){var l=o.value;"template_one"===e.templateType?e.stateCompleteList.push({createTime:l.createTime,planUseTime:l.planUseTime,planStartTime:l.planStartTime,state:l.state,setOutPlaceName:l.setOutPlaceName,destinationName:l.destinationName,taskTypeName:l.taskTypeName,toolName:l.toolName,priority:l.priority,id:l.id,parentTypeName:l.parentTypeName,finishTime:l.finishTime,patientName:l.patientName,bedNumber:l.bedNumber,startPhoto:l.startPhoto,endPhoto:l.endPhoto,isBack:l.isBack,isSign:l.isSign,number:l.number,actualCount:l.actualCount,distName:l.distName}):"template_two"===e.templateType&&e.stateCompleteList.push({createTime:l.createTime,planUseTime:l.planUseTime,planStartTime:l.planStartTime,state:l.state,setOutPlaceName:l.setOutPlaceName,setOutPlaceId:l.setOutPlaceId,toolName:l.toolName,priority:l.priority,id:l.id,startPhoto:l.startPhoto,endPhoto:l.endPhoto,isBack:l.isBack,isSign:l.isSign,number:l.number,actualCount:l.actualCount,distName:l.distName,destinations:l.destinations,hasSanOut:l.hasSanOut,patientInfoList:l.patientInfoList})}}catch(t){s=!0,i=t}finally{try{!a&&r.return&&r.return()}finally{if(s)throw i}}console.log("完成",e.stateCompleteList)}else e.noDataShow=!0;else e.$dialog.alert({message:""+t.data.msg,closeOnPopstate:!0}).then(function(){e.noDataShow=!0})}).catch(function(t){e.$dialog.alert({message:""+t.message,closeOnPopstate:!0}).then(function(){e.noDataShow=!0}),e.showLoadingHint=!1})},userLoginOut:function(t,e){var a=this;this.changeOverDueWay(!0),Object(d.q)("storeOverDueWay",!0),Object(c.L)(t,e).then(function(t){t&&200==t.data.code?(a.globalTimer&&window.clearInterval(a.globalTimer),Object(d.m)(),a.changeCatchComponent([]),a.$router.push({path:"/"})):(a.$dialog.alert({message:""+t.data.msg,closeOnPopstate:!0}).then(function(){}),a.changeOverDueWay(!1),Object(d.q)("storeOverDueWay",!1))}).catch(function(t){a.changeOverDueWay(!1),Object(d.q)("storeOverDueWay",!1),a.$dialog.alert({message:""+t.message,closeOnPopstate:!0}).then(function(){})})},priorityTransfer:function(t){switch(t){case 1:return"正常";case 2:return"重要";case 3:return"紧急";case 4:return"紧急重要"}},stateTransfer:function(t){switch(t){case 0:return"未分配";case 1:return"待确认";case 2:return"未开始";case 3:return"进行中";case 4:return"未结束";case 5:return"已延迟";case 6:return"已取消";case 7:return"已完成"}},leftLiCLick:function(t){this.liIndex=t,this.userLoginOut(this.proId,this.userInfo.userName)},skipMyInfo:function(){this.leftDownShow=!this.leftDownShow},backTo:function(){this.$router.push({path:"home"}),this.changeTitleTxt({tit:"中央运送"}),Object(d.q)("currentTitle","中央运送")},taskLineOneEvent:function(t,e){this.taskLlineOneIndex=e,this.stateListShow=!1,this.transferTask=!1,this.cancelTask=!1,this.noDataShow=!1,"0"==e?(this.stateIndex=0,this.stateScreenVal="全部",this.waitHandleBox=!0,this.taskQueryShow=!1,this.queryStateFilterDispatchTask(this.userInfo.extendData.proId,this.workerId,this.stateIndex)):"1"==e&&(this.stateIndex=null,this.taskQueryShow=!0,this.waitHandleBox=!1,this.initDate(),this.queryCompleteDispatchTask({proId:this.proId,workerId:this.workerId,state:7,startDate:this.startTime,endDate:this.endTime}))},stateListEvent:function(t,e){this.stateIndex=t,this.stateScreenVal=e,this.queryStateFilterDispatchTask(this.proId,this.workerId,t)},sendBack:function(t){var e=this;this.taskId=t.id,this.toolShow=!0,Object(c.C)(this.proId).then(function(t){if(e.vehicleOperationList=[],t&&200==t.data.code)if(t.data.data&&t.data.data.length>0){var a=!0,s=!1,i=void 0;try{for(var o,r=n()(t.data.data);!(a=(o=r.next()).done);a=!0){var l=o.value;e.vehicleOperationList.push({text:l.name,value:l.code})}}catch(t){s=!0,i=t}finally{try{!a&&r.return&&r.return()}finally{if(s)throw i}}}else e.$toast("没有查到退回原因")}).catch(function(t){e.$dialog.alert({message:""+t.message,closeOnPopstate:!0}).then(function(){})}),this.toolIndex=""},toolCheck:function(t,e){this.toolIndex=e,this.toolText=t.text,this.toolName=t.text,this.toolValue=t.value},toolSure:function(){var t=this;""!==this.toolIndex?Object(c.E)(this.proId,this.taskId,this.toolText).then(function(e){e&&200==e.data.code&&(t.$toast(""+e.data.msg),t.queryStateFilterDispatchTask(t.userInfo.extendData.proId,t.workerId,t.stateIndex))}).catch(function(e){t.$dialog.alert({message:""+e.message,closeOnPopstate:!0}).then(function(){})}):this.$toast("请选择退回原因")},toolCancel:function(){this.toolIndex="",this.toolName="",this.toolShow=!1},statusScreenEvent:function(){this.taskQueryShow=!1,this.stateListShow=!this.stateListShow,"状态筛选"==this.stateScreenVal&&(this.queryStateFilterDispatchTask(this.proId,this.workerId,0),this.stateIndex=0)},intoTask:function(t){1!==t.state&&7!==t.state&&(this.changeIsBack(t.isBack),this.changeIsSign(t.isSign),"template_one"==this.templateType?""==t.destinationName?this.changeIsSingleDestination(!1):this.changeIsSingleDestination(!0):"template_two"==this.templateType&&(t.destinations.length>1||0==t.destinations.length?this.changeIsSingleDestination(!1):this.changeIsSingleDestination(!0))),this.changeDispatchTaskId(t.id),this.$router.push({path:"/dispatchDetails"}),this.changeTitleTxt({tit:"任务详情"}),Object(d.q)("currentTitle","任务详情"),this.changeDispatchTaskMessage({DtMsg:t}),Object(d.q)("currentDispatchTaskMessage",t)},getTask:function(t){var e=this;Object(c.j)(t.id,this.workerId).then(function(t){t&&200==t.data.code?(e.$dialog.alert({message:""+t.data.msg,closeOnPopstate:!0}).then(function(){}),e.queryStateFilterDispatchTask(e.userInfo.extendData.proId,e.workerId,e.stateIndex)):e.$dialog.alert({message:""+t.data.msg,closeOnPopstate:!0}).then(function(){})}).catch(function(t){e.$dialog.alert({message:""+t.message,closeOnPopstate:!0}).then(function(){})})}})}),f={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-wrapper"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.noDataShow,expression:"noDataShow"}],staticClass:"no-data"},[a("NoData")],1),t._v(" "),a("div",{staticClass:"loading"},[a("loading",{attrs:{isShow:t.showLoadingHint,textContent:"加载中,请稍候····",textColor:"#2895ea"}})],1),t._v(" "),a("HeaderTop",{attrs:{title:t.navTopTitle}},[a("van-icon",{attrs:{slot:"left",name:"arrow-left"},on:{click:t.backTo},slot:"left"}),t._v(" "),a("van-icon",{attrs:{slot:"right",name:"manager-o"},on:{click:t.skipMyInfo},slot:"right"})],1),t._v(" "),a("ul",{directives:[{name:"show",rawName:"v-show",value:t.leftDownShow,expression:"leftDownShow"}],staticClass:"left-dropDown"},t._l(t.leftDropdownDataList,function(e,s){return a("li",{key:s,class:{liStyle:t.liIndex==s},on:{click:function(e){return t.leftLiCLick(s)}}},[t._v(t._s(e))])}),0),t._v(" "),a("div",{staticClass:"dispatch-task-title"},[a("div",{staticClass:"task-line-one-wrapper"},[a("ul",{staticClass:"task-line-one"},t._l(t.taskOneList,function(e,s){return a("li",{key:s,class:{taskLineOneStyle:t.taskLlineOneIndex==s},on:{click:function(a){return t.taskLineOneEvent(e,s)}}},[t._v(t._s(e))])}),0)]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0==t.taskQueryShow,expression:"taskQueryShow == false"}],staticClass:"status-box"},[t._m(0),t._v(" "),a("p",{staticClass:"status-name-box"},[a("span",{staticClass:"status-name-title",on:{click:function(e){return e.stopPropagation(),t.statusScreenEvent(e)}}},[t._v(t._s(t.stateScreenVal))]),t._v(" "),a("ul",{directives:[{name:"show",rawName:"v-show",value:t.stateListShow,expression:"stateListShow"}],staticClass:"status-name"},t._l(t.stateList,function(e,s){return a("li",{key:s,staticClass:"state-li",class:{stateListStyle:t.stateIndex==s},on:{click:function(a){return a.stopPropagation(),t.stateListEvent(s,e)}}},[t._v(t._s(e))])}),0)])])]),t._v(" "),a("van-pull-refresh",{directives:[{name:"show",rawName:"v-show",value:t.waitHandleBox,expression:"waitHandleBox"}],staticClass:"wait-handle-box",attrs:{"success-text":"刷新成功"},on:{refresh:t.onRefresh},model:{value:t.isRefresh,callback:function(e){t.isRefresh=e},expression:"isRefresh"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:0==t.stateIndex,expression:"stateIndex == 0"}],staticClass:"state-filter-all wait-handle-one"},[a("div",{staticClass:"task-status-list"},t._l(t.stateFilterList,function(e,s){return a("div",{key:e+"-"+s,staticClass:"wait-handle-list"},[a("span",{staticClass:"list-status",class:{listStatusStyleOne:1==e.state,listStyleStatusTwo:2==e.state}},[t._v(t._s(t.stateTransfer(e.state)))]),t._v(" "),a("div",{staticClass:"wait-handle-message"},["template_one"===t.templateType?a("p",{staticClass:"wait-handle-message-top"},[a("span",[t._v(t._s(e.parentTypeName)+"-"+t._s(e.taskTypeName))]),t._v(" "),a("span",[t._v(t._s(""==e.patientName?"无":e.patientName)+"-"+t._s(""==e.bedNumber?"无":e.bedNumber))])]):"template_two"===t.templateType?a("div",{staticClass:"wait-handle-message-top-two"},[a("p",[a("span",[t._v(t._s(e.patientInfoList[0].typeList[0].parentTypeName))]),t._v(" "),t._l(e.patientInfoList[0].typeList,function(e,s){return a("span",[t._v("-\n                  "+t._s(""==e.taskTypeName?"无":e.taskTypeName)+"\n                ")])})],2),t._v(" "),a("p",[a("span",[t._v("\n                  "+t._s(""==e.patientInfoList[0].patientName?"无":e.patientInfoList[0].patientName)+"-"+t._s(""==e.patientInfoList[0].bedNumber?"无":e.patientInfoList[0].bedNumber)+"\n                ")])])]):t._e(),t._v(" "),a("p",{staticClass:"wait-handle-message-bottom"},[a("span",[t._v("时间: ("+t._s(e.planStartTime)+")")]),t._v(" "),a("span",[t._v("起点: "+t._s(e.setOutPlaceName))])])]),t._v(" "),a("p",{staticClass:"get-wait-task"},[a("span",{directives:[{name:"show",rawName:"v-show",value:"1"==e.state,expression:"item.state == '1'"}]},[a("img",{attrs:{src:t.taskGetPng,alt:""},on:{click:function(a){return a.stopPropagation(),t.getTask(e)}}})]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:!("1"==e.state),expression:"!(item.state == '1')"}],on:{click:function(a){return a.stopPropagation(),t.intoTask(e)}}},[t._v("\n              进入任务\n            ")]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:"1"==e.state||"2"==e.state,expression:"item.state == '1' || item.state == '2'"}],on:{click:function(a){return a.stopPropagation(),t.sendBack(e)}}},[t._v("\n              退回\n            ")])])])}),0)]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:1==t.stateIndex,expression:"stateIndex == 1"}],staticClass:"state-filter-no-get wait-handle-one"},[a("div",{staticClass:"task-status-list"},t._l(t.stateFilterList,function(e,s){return a("div",{key:e+"-"+s,staticClass:"wait-handle-list"},[a("span",{staticClass:"list-status",class:{listStatusStyleOne:1==e.state,listStyleStatusTwo:2==e.state}},[t._v(t._s(t.stateTransfer(e.state)))]),t._v(" "),a("div",{staticClass:"wait-handle-message"},["template_one"===t.templateType?a("p",{staticClass:"wait-handle-message-top"},[a("span",[t._v(t._s(e.parentTypeName)+"-"+t._s(e.taskTypeName))]),t._v(" "),a("span",[t._v(t._s(""==e.patientName?"无":e.patientName)+"-"+t._s(""==e.bedNumber?"无":e.bedNumber))])]):"template_two"===t.templateType?a("div",{staticClass:"wait-handle-message-top-two"},[a("p",[a("span",[t._v(t._s(e.patientInfoList[0].typeList[0].parentTypeName))]),t._v(" "),t._l(e.patientInfoList[0].typeList,function(e,s){return a("span",[t._v("-\n                  "+t._s(""==e.taskTypeName?"无":e.taskTypeName)+"\n                ")])})],2),t._v(" "),a("p",[a("span",[t._v("\n                  "+t._s(""==e.patientInfoList[0].patientName?"无":e.patientInfoList[0].patientName)+"-"+t._s(""==e.patientInfoList[0].bedNumber?"无":e.patientInfoList[0].bedNumber)+"\n                ")])])]):t._e(),t._v(" "),a("p",{staticClass:"wait-handle-message-bottom"},[a("span",[t._v("时间: ("+t._s(e.planStartTime)+")")]),t._v(" "),a("span",[t._v("起点: "+t._s(e.setOutPlaceName))])])]),t._v(" "),a("p",{staticClass:"get-wait-task"},[a("span",{directives:[{name:"show",rawName:"v-show",value:"1"==e.state,expression:"item.state == '1'"}]},[a("img",{attrs:{src:t.taskGetPng,alt:""},on:{click:function(a){return a.stopPropagation(),t.getTask(e)}}})]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:!("1"==e.state),expression:"!(item.state == '1')"}],on:{click:function(a){return a.stopPropagation(),t.intoTask(e)}}},[t._v("\n              进入任务\n            ")]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:"1"==e.state||"2"==e.state,expression:"item.state == '1' || item.state == '2'"}],on:{click:function(a){return a.stopPropagation(),t.sendBack(e)}}},[t._v("\n              退回\n            ")])])])}),0)]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:2==t.stateIndex,expression:"stateIndex == 2"}],staticClass:"state-filter-get wait-handle-one"},[a("div",{staticClass:"task-status-list"},t._l(t.stateFilterList,function(e,s){return a("div",{key:e+"-"+s,staticClass:"wait-handle-list"},[a("span",{staticClass:"list-status",class:{listStatusStyleOne:1==e.state,listStyleStatusTwo:2==e.state}},[t._v(t._s(t.stateTransfer(e.state)))]),t._v(" "),a("div",{staticClass:"wait-handle-message"},["template_one"===t.templateType?a("p",{staticClass:"wait-handle-message-top"},[a("span",[t._v(t._s(e.parentTypeName)+"-"+t._s(e.taskTypeName))]),t._v(" "),a("span",[t._v(t._s(""==e.patientName?"无":e.patientName)+"-"+t._s(""==e.bedNumber?"无":e.bedNumber))])]):"template_two"===t.templateType?a("div",{staticClass:"wait-handle-message-top-two"},[a("p",[a("span",[t._v(t._s(e.patientInfoList[0].typeList[0].parentTypeName))]),t._v(" "),t._l(e.patientInfoList[0].typeList,function(e,s){return a("span",[t._v("-\n                  "+t._s(""==e.taskTypeName?"无":e.taskTypeName)+"\n                ")])})],2),t._v(" "),a("p",[a("span",[t._v("\n                  "+t._s(""==e.patientInfoList[0].patientName?"无":e.patientInfoList[0].patientName)+"-"+t._s(""==e.patientInfoList[0].bedNumber?"无":e.patientInfoList[0].bedNumber)+"\n                ")])])]):t._e(),t._v(" "),a("p",{staticClass:"wait-handle-message-bottom"},[a("span",[t._v("时间: ("+t._s(e.planStartTime)+")")]),t._v(" "),a("span",[t._v("起点: "+t._s(e.setOutPlaceName))])])]),t._v(" "),a("p",{staticClass:"get-wait-task"},[a("span",{directives:[{name:"show",rawName:"v-show",value:"1"==e.state,expression:"item.state == '1'"}]},[a("img",{attrs:{src:t.taskGetPng,alt:""},on:{click:function(a){return a.stopPropagation(),t.getTask(e)}}})]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:!("1"==e.state),expression:"!(item.state == '1')"}],on:{click:function(a){return a.stopPropagation(),t.intoTask(e)}}},[t._v("\n              进入任务\n            ")]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:"1"==e.state||"2"==e.state,expression:"item.state == '1' || item.state == '2'"}],on:{click:function(a){return a.stopPropagation(),t.sendBack(e)}}},[t._v("\n              退回\n            ")])])])}),0)]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:3==t.stateIndex,expression:"stateIndex == 3"}],staticClass:"state-filter-going wait-handle-one"},[a("div",{staticClass:"task-status-list"},t._l(t.stateFilterList,function(e,s){return a("div",{key:e+"-"+s,staticClass:"wait-handle-list"},[a("span",{staticClass:"list-status",class:{listStatusStyleOne:1==e.state,listStyleStatusTwo:2==e.state}},[t._v(t._s(t.stateTransfer(e.state)))]),t._v(" "),a("div",{staticClass:"wait-handle-message"},["template_one"===t.templateType?a("p",{staticClass:"wait-handle-message-top"},[a("span",[t._v(t._s(e.parentTypeName)+"-"+t._s(e.taskTypeName))]),t._v(" "),a("span",[t._v(t._s(""==e.patientName?"无":e.patientName)+"-"+t._s(""==e.bedNumber?"无":e.bedNumber))])]):"template_two"===t.templateType?a("div",{staticClass:"wait-handle-message-top-two"},[a("p",[a("span",[t._v(t._s(e.patientInfoList[0].typeList[0].parentTypeName))]),t._v(" "),t._l(e.patientInfoList[0].typeList,function(e,s){return a("span",[t._v("-\n                  "+t._s(""==e.taskTypeName?"无":e.taskTypeName)+"\n                ")])})],2),t._v(" "),a("p",[a("span",[t._v("\n                  "+t._s(""==e.patientInfoList[0].patientName?"无":e.patientInfoList[0].patientName)+"-"+t._s(""==e.patientInfoList[0].bedNumber?"无":e.patientInfoList[0].bedNumber)+"\n                ")])])]):t._e(),t._v(" "),a("p",{staticClass:"wait-handle-message-bottom"},[a("span",[t._v("时间: ("+t._s(e.planStartTime)+")")]),t._v(" "),a("span",[t._v("起点: "+t._s(e.setOutPlaceName))])])]),t._v(" "),a("p",{staticClass:"get-wait-task"},[a("span",{directives:[{name:"show",rawName:"v-show",value:"1"==e.state,expression:"item.state == '1'"}]},[a("img",{attrs:{src:t.taskGetPng,alt:""},on:{click:function(a){return a.stopPropagation(),t.getTask(e)}}})]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:!("1"==e.state),expression:"!(item.state == '1')"}],on:{click:function(a){return a.stopPropagation(),t.intoTask(e)}}},[t._v("\n              进入任务\n            ")]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:"1"==e.state||"2"==e.state,expression:"item.state == '1' || item.state == '2'"}],on:{click:function(a){return a.stopPropagation(),t.sendBack(e)}}},[t._v("\n              退回\n            ")])])])}),0)])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.taskQueryShow,expression:"taskQueryShow"}],staticClass:"task-query wait-handle task-complete"},[a("div",{staticClass:"content-middle-top"},[a("span",{staticClass:"time-between"},[t._v("至")]),t._v(" "),a("div",{staticClass:"content-middle-top-content"},[a("div",{staticStyle:{left:"0"}},[a("van-field",{attrs:{placeholder:"开始日期",readonly:"readonly","right-icon":"newspaper-o"},on:{click:function(e){t.startTimePop=!0}},model:{value:t.startTime,callback:function(e){t.startTime=e},expression:"startTime"}})],1),t._v(" "),a("div",{staticStyle:{right:"0"}},[a("van-field",{attrs:{placeholder:"结束日期",readonly:"readonly","right-icon":"newspaper-o"},on:{click:function(e){t.endTimePop=!0}},model:{value:t.endTime,callback:function(e){t.endTime=e},expression:"endTime"}})],1)]),t._v(" "),a("van-popup",{attrs:{label:"离开时间",position:"bottom",overlay:!0},model:{value:t.startTimePop,callback:function(e){t.startTimePop=e},expression:"startTimePop"}},[a("van-datetime-picker",{attrs:{type:"date","min-date":t.minDateStart},on:{cancel:function(e){t.startTimePop=!1},confirm:function(e){t.startTimePop=!1},change:t.startTimeChange},model:{value:t.currentDateStart,callback:function(e){t.currentDateStart=e},expression:"currentDateStart"}})],1),t._v(" "),a("van-popup",{attrs:{label:"离开时间",position:"bottom",overlay:!0},model:{value:t.endTimePop,callback:function(e){t.endTimePop=e},expression:"endTimePop"}},[a("van-datetime-picker",{attrs:{type:"date","min-date":t.minDateEnd},on:{cancel:function(e){t.endTimePop=!1},confirm:function(e){t.endTimePop=!1},change:t.endTimeChange},model:{value:t.currentDateEnd,callback:function(e){t.currentDateEnd=e},expression:"currentDateEnd"}})],1)],1),t._v(" "),a("p",{staticClass:"middle-top-search"},[a("span",[a("img",{attrs:{src:t.taskSearchPng,alt:""},on:{click:function(e){return e.stopPropagation(),t.searchCompleteTask(e)}}})])]),t._v(" "),a("div",{staticClass:"task-status-list"},t._l(t.stateCompleteList,function(e,s){return a("div",{key:e+"-"+s,staticClass:"wait-handle-list"},[a("span",{staticClass:"list-status",class:{listStatusStyleOne:1==e.state,listStyleStatusTwo:2==e.state}},[t._v(t._s(t.stateTransfer(e.state)))]),t._v(" "),a("div",{staticClass:"wait-handle-message"},["template_one"===t.templateType?a("p",{staticClass:"wait-handle-message-top"},[a("span",[t._v(t._s(e.parentTypeName)+"-"+t._s(e.taskTypeName))]),t._v(" "),a("span",[t._v(t._s(""==e.patientName?"无":e.patientName)+"-"+t._s(""==e.bedNumber?"无":e.bedNumber))])]):"template_two"===t.templateType?a("div",{staticClass:"wait-handle-message-top-two"},[a("p",[a("span",[t._v(t._s(e.patientInfoList[0].typeList[0].parentTypeName))]),t._v(" "),t._l(e.patientInfoList[0].typeList,function(e,s){return a("span",[t._v("-\n                  "+t._s(""==e.taskTypeName?"无":e.taskTypeName)+"\n                ")])})],2),t._v(" "),a("p",[a("span",[t._v("\n                  "+t._s(""==e.patientInfoList[0].patientName?"无":e.patientInfoList[0].patientName)+"-"+t._s(""==e.patientInfoList[0].bedNumber?"无":e.patientInfoList[0].bedNumber)+"\n                ")])])]):t._e(),t._v(" "),a("p",{staticClass:"wait-handle-message-bottom"},[a("span",[t._v("时间: ("+t._s(e.planStartTime)+")")]),t._v(" "),a("span",[t._v("起点: "+t._s(e.setOutPlaceName))])])]),t._v(" "),a("p",{staticClass:"get-wait-task"},[a("span",{directives:[{name:"show",rawName:"v-show",value:"1"==e.state,expression:"item.state == '1'"}]},[a("img",{attrs:{src:t.taskGetPng,alt:""},on:{click:function(a){return a.stopPropagation(),t.getTask(e)}}})]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:!("1"==e.state),expression:"!(item.state == '1')"}],on:{click:function(a){return a.stopPropagation(),t.intoTask(e)}}},[t._v("\n              进入任务\n            ")]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:"1"==e.state||"2"==e.state,expression:"item.state == '1' || item.state == '2'"}],on:{click:function(a){return a.stopPropagation(),t.sendBack(e)}}},[t._v("\n              退回\n            ")])])])}),0)]),t._v(" "),a("van-dialog",{attrs:{title:"请选择退回原因","show-cancel-button":"",width:"92%"},on:{confirm:t.toolSure,cancel:t.toolCancel},model:{value:t.toolShow,callback:function(e){t.toolShow=e},expression:"toolShow"}},[a("div",{staticClass:"tool-name-list"},[a("div",{staticClass:"tool-name-list-title-innner"},[t._v("退回原因:")]),t._v(" "),a("div",{staticClass:"tool-name-list-content"},t._l(t.vehicleOperationList,function(e,s){return a("span",{key:e+"-"+s,class:{spanStyle:t.toolIndex===s},on:{click:function(a){return t.toolCheck(e,s)}}},[t._v("\n              "+t._s(e.text)+"\n            ")])}),0)])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"task-line-two"},[e("span",{staticClass:"state-filter-span"},[this._v("\n          状态筛选\n        ")])])}]};var w=a("C7Lr")(v,f,!1,function(t){a("V/tI")},"data-v-00d5f66c",null);e.default=w.exports},"V/tI":function(t,e){}});