webpackJsonp([22],{"6qDE":function(t,e){},rcxH:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("4YfN"),n=s.n(a),i=s("0eBz"),o=s("SJI6"),c=s("fdFc"),r={name:"dispatchTakePhoto",data:function(){return{issueImageList:[]}},components:{HeaderTop:i.a},mounted:function(){if(!Object(c.b)()){var t=this;pushHistory(),t.gotoURL(function(){pushHistory(),t.backTo()})}},computed:n()({},Object(o.mapGetters)(["navTopTitle","userInfo","completeDeparnmentInfo","isCompleteSweepCodeDestinationList","departmentInfoListNo","dispatchTaskMessage","isSingleDestination","dispatchTaskState","dispatchTaskDepartmentType","isCompleteSweepCode","isBack","dispatchTaskId","currentDepartmentNumber","catch_components"]),{proId:function(){return this.userInfo.extendData.proId},userName:function(){return this.userInfo.userName},proName:function(){return this.userInfo.extendData.proName},workerId:function(){return this.userInfo.extendData.userId},taskId:function(){return this.dispatchTaskMessage.id}}),methods:n()({},Object(o.mapMutations)(["changeTitleTxt"]),{backTo:function(){this.$router.push({path:"/dispatchDetails"}),this.changeTitleTxt({tit:"任务详情"}),Object(c.q)("currentTitle","任务详情")},uploadPhoto:function(){console.log(this.issueImageList)},previewFileOne:function(){var t=document.getElementById("demo1").files[0],e=this,s=new FileReader;t.size/1024/1024<16?(s.addEventListener("load",function(){var t=s.result,a=new Image;a.src=t,a.onload=function(){var t=Object(c.h)(a,void 0);e.issueImageList.push({check:!1,imgUrl:t})}},!1),t&&s.readAsDataURL(t)):this.$dialog.alert({message:"上传图片大小不能超过16MB!",closeOnPopstate:!0}).then(function(){})}})},u={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content-wrapper"},[s("HeaderTop",{attrs:{title:t.navTopTitle}},[s("van-icon",{attrs:{slot:"left",name:"arrow-left"},on:{click:t.backTo},slot:"left"})],1),t._v(" "),s("div",{staticClass:"photo-title"},[s("div",{staticClass:"uploadPhoto",on:{click:t.uploadPhoto}},[t._v("上传照片")]),t._v(" "),s("div",{staticClass:"choose-photo"},[s("input",{attrs:{name:"uploadImg1",id:"demo1",type:"file",accept:"image/camera"},on:{change:t.previewFileOne}}),t._v("拍照\n    ")])]),t._v(" "),s("div",{staticClass:"photo-list"},[s("ul",{staticClass:"photo-list-wrapper"},t._l(t.issueImageList,function(e,a){return s("li",{key:e+"-"+a},[s("img",{attrs:{width:"100",height:"130",src:e.imgUrl}}),t._v(" "),s("span",{staticClass:"checkbox"},[s("van-checkbox",{model:{value:e.check,callback:function(s){t.$set(e,"check",s)},expression:"item.check"}})],1)])}),0)])],1)},staticRenderFns:[]};var l=s("C7Lr")(r,u,!1,function(t){s("6qDE")},"data-v-28707d4c",null);e.default=l.exports}});